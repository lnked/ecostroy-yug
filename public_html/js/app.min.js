'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var app = app || {};

(function (body) {
    'use strict';

    app = {
        _extend: function _extend(source, config) {
            if (typeof config !== 'undefined') {
                for (var x in config) {
                    source[x] = config[x];
                }
            }

            return source;
        },
        bind: function bind() {
            for (var _ in this) {
                if (_typeof(this[_]) == 'object' && typeof this[_].init !== 'undefined') {
                    if (typeof this[_].init == 'function') {
                        this[_].init();
                    }
                }
            }
        },
        init: function init() {
            this.bind();
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fX2FwcC5pbml0LmpzIl0sIm5hbWVzIjpbImFwcCIsIl9leHRlbmQiLCJzb3VyY2UiLCJjb25maWciLCJ4IiwiYmluZCIsIl8iLCJpbml0IiwiZG9jdW1lbnQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsTUFBTUEsT0FBTyxFQUFqQjs7QUFFQSxDQUFFLGdCQUFRO0FBQ047O0FBRUFBLFVBQU07QUFFRkMsZUFGRSxtQkFFT0MsTUFGUCxFQUVlQyxNQUZmLEVBRXVCO0FBQ3JCLGdCQUFJLE9BQU9BLE1BQVAsS0FBa0IsV0FBdEIsRUFDQTtBQUNJLHFCQUFLLElBQU1DLENBQVgsSUFBZ0JELE1BQWhCLEVBQ0E7QUFDSUQsMkJBQU9FLENBQVAsSUFBWUQsT0FBT0MsQ0FBUCxDQUFaO0FBQ0g7QUFDSjs7QUFFRCxtQkFBT0YsTUFBUDtBQUNILFNBWkM7QUFjRkcsWUFkRSxrQkFjTTtBQUNKLGlCQUFJLElBQU1DLENBQVYsSUFBZSxJQUFmLEVBQ0E7QUFDSSxvQkFBSSxRQUFRLEtBQUtBLENBQUwsQ0FBUixLQUFvQixRQUFwQixJQUFnQyxPQUFRLEtBQUtBLENBQUwsRUFBUUMsSUFBaEIsS0FBMEIsV0FBOUQsRUFDQTtBQUNJLHdCQUFJLE9BQVEsS0FBS0QsQ0FBTCxFQUFRQyxJQUFoQixJQUF5QixVQUE3QixFQUNBO0FBQ0ksNkJBQUtELENBQUwsRUFBUUMsSUFBUjtBQUNIO0FBQ0o7QUFDSjtBQUNKLFNBekJDO0FBMkJGQSxZQTNCRSxrQkEyQk07QUFDSixpQkFBS0YsSUFBTDtBQUNIO0FBN0JDLEtBQU47QUFnQ0gsQ0FuQ0QsRUFtQ0lHLFNBQVNDLElBbkNiIiwiZmlsZSI6Il9fX2FwcC5pbml0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGFwcCA9IGFwcCB8fCB7fTtcblxuKChib2R5ID0+IHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhcHAgPSB7XG5cbiAgICAgICAgX2V4dGVuZCAoc291cmNlLCBjb25maWcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHggaW4gY29uZmlnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlW3hdID0gY29uZmlnW3hdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgfSxcblxuICAgICAgICBiaW5kICgpIHtcbiAgICAgICAgICAgIGZvcihjb25zdCBfIGluIHRoaXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpc1tfXSkgPT0gJ29iamVjdCcgJiYgdHlwZW9mICh0aGlzW19dLmluaXQpICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHRoaXNbX10uaW5pdCkgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tfXS5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdCAoKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKShkb2N1bWVudC5ib2R5KTsiXX0=

'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var app = app || {};

(function (body) {
    "use strict";

    var $body = $(body),
        _this;

    app.ajaxForm = {

        config: {
            form_class: '.form-ajax',
            form_reset: 'form-reset',
            link_class: '.js-request-link',
            error_class: 'error',
            error_message: 'form__error-message',
            error_message_class: 'j-error-message',
            error_message_addclass: 'show',
            form_label: '.form__wrapper',
            checkbox_label: 'checkbox__label'
        },

        callback_stack: {},

        extend: function extend(config) {
            _this = this;

            if (typeof config !== 'undefined') {
                var x;
                for (x in config) {
                    if (typeof _this.config[x] !== 'undefined') _this.config[x] = config[x];
                }
            }
        },

        default_handler: function default_handler(form, response) {
            _this = this;

            if (response.status) {
                if (response.hasOwnProperty('redirect_url')) {
                    window.location.href = response.redirect_url;
                }
            } else if (typeof response.errors !== 'undefined' || typeof response.error_message !== 'undefined') {
                var errors, error_message;

                if (typeof response.errors !== 'undefined') {
                    errors = response.errors;
                }

                if (typeof response.error_message !== 'undefined') {
                    error_message = response.error_message;
                }

                _this.validation(form, errors, response.error_message);
            }

            if (response.hasOwnProperty('open_popup')) {
                if ($('body').find('.popup.is-open').length) {
                    $.popup.close($('body').find('.popup.is-open'), function () {
                        $.popup.open(response.open_popup);
                    });
                } else {
                    $.popup.open(response.open_popup);
                }
            }

            if (response.hasOwnProperty('message')) {
                $.popup.message(response.title, response.message);
            }
        },

        validation: function validation(form, errors, error_message) {
            _this = this;

            form.find('.' + _this.config.error_class).removeClass(_this.config.error_class);
            form.find('.' + _this.config.error_message).remove();
            form.find('.' + _this.config.error_message_class).removeClass(_this.config.error_message_addclass);

            var fieldName, field;

            setTimeout(function () {
                if (typeof error_message !== 'undefined' && error_message !== '') {
                    form.find('.' + _this.config.error_message_class).html(error_message);
                    form.find('.' + _this.config.error_message_class).addClass(_this.config.error_message_addclass);
                }

                if (typeof errors !== 'undefined' && errors !== '') {
                    for (fieldName in errors) {
                        if (form.find('input[name="' + fieldName + '"]').length > 0) {
                            field = form.find('input[name="' + fieldName + '"]');
                        }

                        if (form.find('select[name="' + fieldName + '"]').length > 0) {
                            field = form.find('select[name="' + fieldName + '"]');
                        }

                        if (form.find('textarea[name="' + fieldName + '"]').length > 0) {
                            field = form.find('textarea[name="' + fieldName + '"]');
                        }

                        if (field.closest('.' + _this.config.checkbox_label).length > 0) {
                            field = field.closest('.' + _this.config.checkbox_label);
                        }

                        if (typeof field !== 'undefined') {
                            field.addClass(_this.config.error_class);
                            field.closest(_this.config.form_label).append('<div class="' + _this.config.error_message + '">' + errors[fieldName] + '</div>');
                        }
                    }
                }
            }, 10);
        },

        upload: function upload() {
            _this = this;

            $body.on('submit', '.form-file-upload', function (e) {
                return AIM.submit(this, {
                    onStart: function onStart() {},
                    onComplete: function onComplete(result) {
                        if ((typeof result === 'undefined' ? 'undefined' : _typeof(result)) === 'object' && result.status === true && result.hasOwnProperty('photo_url')) {}
                    }
                });
            });

            $(document).on('change', '.upload_button_onchange', function () {
                if ($(this).closest('.upload_button').find('.upload_button_field').length > 0) {
                    $(this).closest('.upload_button').find('.upload_button_field').html($(this).val());
                }
            });
        },

        send: function send(action, method, data, cb, err) {

            if (typeof cb !== 'function') {
                cb = function cb() {};
            }

            if (typeof err !== 'function') {
                err = function err() {};
            }

            try {

                $.ajaxSetup({
                    headers: {
                        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                    }
                });

                $.ajax({
                    url: action,
                    type: method,
                    data: data,
                    contentType: false,
                    processData: method.toLowerCase() == 'get',
                    success: cb,
                    error: err,
                    dataType: 'JSON'
                });
            } catch (e) {}
        },

        initLink: function initLink() {
            _this = this;

            $body.on('click', _this.config.link_class, function (e) {
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var link = $(this);

                if (link.data('is-busy')) {
                    return;
                }

                link.data('is-busy', true);

                var action = $(this).attr('href') || $(this).data('action'),
                    method = $(this).data('method') || 'get',
                    data = {};

                _this.send(action, method, data, function (response) {
                    if (link.data('callback') && _this.callback_stack.hasOwnProperty(link.data('callback'))) {
                        _this.callback_stack[link.data('callback')](link, response);
                    } else {
                        _this.default_handler(link, response);
                    }

                    if (response.status === true) {}

                    link.data('is-busy', false);
                }, function (response) {
                    _this.default_handler(link, response);
                    link.data('is-busy', false);
                });
            });
        },

        initForm: function initForm() {
            _this = this;

            $body.on('submit', _this.config.form_class, function (e) {
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var form = $(this),
                    action = form.attr('action'),
                    method = form.attr('method') || 'post',
                    data = !!window.FormData ? new FormData(form[0]) : form.serialize();

                if (form.data('is-busy')) {
                    return;
                }

                form.data('is-busy', true);

                if (typeof button !== 'undefined') {
                    if (button.data('loading')) {
                        button.data('original', button.text());
                        button.text(button.data('loading'));
                    }

                    button.addClass('preload');
                }

                if (form.data('precallback') && _this.callback_stack.hasOwnProperty(form.data('precallback'))) {
                    if (!_this.callback_stack[form.data('precallback')](form)) {
                        return false;
                    }
                }

                _this.send(action, method, data, function (response) {
                    if (form.data('callback') && _this.callback_stack.hasOwnProperty(form.data('callback'))) {
                        _this.callback_stack[form.data('callback')](form, response);
                    } else {
                        _this.default_handler(form, response);
                    }

                    if (response.status === true) {
                        if (form.hasClass(_this.config.form_reset)) {
                            form.find('.' + _this.config.error_class).removeClass(_this.config.error_class);
                            form.get(0).reset();
                        }
                    }

                    if (typeof button !== 'undefined') {
                        if (button.data('original')) {
                            button.text(button.data('original'));
                        }

                        button.removeClass('preload');
                    }

                    form.data('is-busy', false);
                }, function (response) {
                    _this.default_handler(form, response);
                    form.data('is-busy', false);
                });
            });
        },

        init: function init(config) {
            this.extend(config);

            this.initForm();
            this.initLink();
        }
    };

    app.ajaxForm.init();
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmFqYXguanMiXSwibmFtZXMiOlsiYXBwIiwiYm9keSIsIiRib2R5IiwiJCIsIl90aGlzIiwiYWpheEZvcm0iLCJjb25maWciLCJmb3JtX2NsYXNzIiwiZm9ybV9yZXNldCIsImxpbmtfY2xhc3MiLCJlcnJvcl9jbGFzcyIsImVycm9yX21lc3NhZ2UiLCJlcnJvcl9tZXNzYWdlX2NsYXNzIiwiZXJyb3JfbWVzc2FnZV9hZGRjbGFzcyIsImZvcm1fbGFiZWwiLCJjaGVja2JveF9sYWJlbCIsImNhbGxiYWNrX3N0YWNrIiwiZXh0ZW5kIiwieCIsImRlZmF1bHRfaGFuZGxlciIsImZvcm0iLCJyZXNwb25zZSIsInN0YXR1cyIsImhhc093blByb3BlcnR5Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicmVkaXJlY3RfdXJsIiwiZXJyb3JzIiwidmFsaWRhdGlvbiIsImZpbmQiLCJsZW5ndGgiLCJwb3B1cCIsImNsb3NlIiwib3BlbiIsIm9wZW5fcG9wdXAiLCJtZXNzYWdlIiwidGl0bGUiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsImZpZWxkTmFtZSIsImZpZWxkIiwic2V0VGltZW91dCIsImh0bWwiLCJhZGRDbGFzcyIsImNsb3Nlc3QiLCJhcHBlbmQiLCJ1cGxvYWQiLCJvbiIsImUiLCJBSU0iLCJzdWJtaXQiLCJvblN0YXJ0Iiwib25Db21wbGV0ZSIsInJlc3VsdCIsImRvY3VtZW50IiwidmFsIiwic2VuZCIsImFjdGlvbiIsIm1ldGhvZCIsImRhdGEiLCJjYiIsImVyciIsImFqYXhTZXR1cCIsImhlYWRlcnMiLCJhdHRyIiwiYWpheCIsInVybCIsInR5cGUiLCJjb250ZW50VHlwZSIsInByb2Nlc3NEYXRhIiwidG9Mb3dlckNhc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJkYXRhVHlwZSIsImluaXRMaW5rIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImxpbmsiLCJpbml0Rm9ybSIsIkZvcm1EYXRhIiwic2VyaWFsaXplIiwiYnV0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RGxDLE1BQU1FLE1BQU4sQ0FBYUksV0FBbkU7QUFDQVUsaUNBQUtpRSxHQUFMLENBQVMsQ0FBVCxFQUFZQyxLQUFaO0FBQ0g7QUFDSjs7QUFFRCx3QkFBSSxPQUFPSixNQUFQLEtBQWtCLFdBQXRCLEVBQ0E7QUFDSSw0QkFBSUEsT0FBT3RCLElBQVAsQ0FBWSxVQUFaLENBQUosRUFDQTtBQUNJc0IsbUNBQU9DLElBQVAsQ0FBWUQsT0FBT3RCLElBQVAsQ0FBWSxVQUFaLENBQVo7QUFDSDs7QUFFRHNCLCtCQUFPNUMsV0FBUCxDQUFtQixTQUFuQjtBQUNIOztBQUVEbEIseUJBQUt3QyxJQUFMLENBQVUsU0FBVixFQUFxQixLQUFyQjtBQUNILGlCQW5DTCxFQW9DSSxVQUFTdkMsUUFBVCxFQUNBO0FBQ0lqQiwwQkFBTWUsZUFBTixDQUFzQkMsSUFBdEIsRUFBNEJDLFFBQTVCO0FBQ0FELHlCQUFLd0MsSUFBTCxDQUFVLFNBQVYsRUFBcUIsS0FBckI7QUFDSCxpQkF4Q0w7QUEwQ0gsYUExRUQ7QUEyRUgsU0FsVVU7O0FBb1VYMkIsY0FBTSxjQUFTakYsTUFBVCxFQUNOO0FBQ0ksaUJBQUtXLE1BQUwsQ0FBWVgsTUFBWjs7QUFFQSxpQkFBS3lFLFFBQUw7QUFDQSxpQkFBS0osUUFBTDtBQUNIO0FBMVVVLEtBQWY7O0FBNlVBM0UsUUFBSUssUUFBSixDQUFha0YsSUFBYjtBQUVILENBclZELEVBcVZHaEMsU0FBU3RELElBclZaIiwiZmlsZSI6Il9fYXBwLmFqYXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYXBwIHx8IHt9O1xuXG4oZnVuY3Rpb24oYm9keSl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgJGJvZHkgPSAkKGJvZHkpLFxuICAgICAgICBfdGhpcztcblxuICAgIGFwcC5hamF4Rm9ybSA9IHtcblxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGZvcm1fY2xhc3M6ICcuZm9ybS1hamF4JyxcbiAgICAgICAgICAgIGZvcm1fcmVzZXQ6ICdmb3JtLXJlc2V0JyxcbiAgICAgICAgICAgIGxpbmtfY2xhc3M6ICcuanMtcmVxdWVzdC1saW5rJyxcbiAgICAgICAgICAgIGVycm9yX2NsYXNzOiAnZXJyb3InLFxuICAgICAgICAgICAgZXJyb3JfbWVzc2FnZTogJ2Zvcm1fX2Vycm9yLW1lc3NhZ2UnLFxuICAgICAgICAgICAgZXJyb3JfbWVzc2FnZV9jbGFzczogJ2otZXJyb3ItbWVzc2FnZScsXG4gICAgICAgICAgICBlcnJvcl9tZXNzYWdlX2FkZGNsYXNzOiAnc2hvdycsXG4gICAgICAgICAgICBmb3JtX2xhYmVsOiAnLmZvcm1fX3dyYXBwZXInLFxuICAgICAgICAgICAgY2hlY2tib3hfbGFiZWw6ICdjaGVja2JveF9fbGFiZWwnXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FsbGJhY2tfc3RhY2s6IHt9LFxuXG4gICAgICAgIGV4dGVuZDogZnVuY3Rpb24oY29uZmlnKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgeDtcbiAgICAgICAgICAgICAgICBmb3IgKHggaW4gY29uZmlnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5jb25maWdbeF0gIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnW3hdID0gY29uZmlnW3hdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBkZWZhdWx0X2hhbmRsZXI6IGZ1bmN0aW9uKGZvcm0sIHJlc3BvbnNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KCdyZWRpcmVjdF91cmwnKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2UucmVkaXJlY3RfdXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvcnMgIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiByZXNwb25zZS5lcnJvcl9tZXNzYWdlICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JzLCBlcnJvcl9tZXNzYWdlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvcnMgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gcmVzcG9uc2UuZXJyb3JzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuZXJyb3JfbWVzc2FnZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gcmVzcG9uc2UuZXJyb3JfbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfdGhpcy52YWxpZGF0aW9uKGZvcm0sIGVycm9ycywgcmVzcG9uc2UuZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eSgnb3Blbl9wb3B1cCcpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgkKCdib2R5JykuZmluZCgnLnBvcHVwLmlzLW9wZW4nKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAkLnBvcHVwLmNsb3NlKCQoJ2JvZHknKS5maW5kKCcucG9wdXAuaXMtb3BlbicpLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5wb3B1cC5vcGVuKHJlc3BvbnNlLm9wZW5fcG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJC5wb3B1cC5vcGVuKHJlc3BvbnNlLm9wZW5fcG9wdXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KCdtZXNzYWdlJykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJC5wb3B1cC5tZXNzYWdlKHJlc3BvbnNlLnRpdGxlLCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIHZhbGlkYXRpb246IGZ1bmN0aW9uKGZvcm0sIGVycm9ycywgZXJyb3JfbWVzc2FnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBmb3JtLmZpbmQoJy4nICsgX3RoaXMuY29uZmlnLmVycm9yX2NsYXNzKS5yZW1vdmVDbGFzcyhfdGhpcy5jb25maWcuZXJyb3JfY2xhc3MpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcuJyArIF90aGlzLmNvbmZpZy5lcnJvcl9tZXNzYWdlKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGZvcm0uZmluZCgnLicgKyBfdGhpcy5jb25maWcuZXJyb3JfbWVzc2FnZV9jbGFzcykucmVtb3ZlQ2xhc3MoX3RoaXMuY29uZmlnLmVycm9yX21lc3NhZ2VfYWRkY2xhc3MpO1xuXG4gICAgICAgICAgICB2YXIgZmllbGROYW1lLCBmaWVsZDtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVycm9yX21lc3NhZ2UgIT09ICd1bmRlZmluZWQnICYmIGVycm9yX21lc3NhZ2UgIT09ICcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCcuJyArIF90aGlzLmNvbmZpZy5lcnJvcl9tZXNzYWdlX2NsYXNzKS5odG1sKGVycm9yX21lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJy4nICsgX3RoaXMuY29uZmlnLmVycm9yX21lc3NhZ2VfY2xhc3MpLmFkZENsYXNzKF90aGlzLmNvbmZpZy5lcnJvcl9tZXNzYWdlX2FkZGNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVycm9ycyAhPT0gJ3VuZGVmaW5lZCcgJiYgZXJyb3JzICE9PSAnJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvcihmaWVsZE5hbWUgaW4gZXJyb3JzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwiJytmaWVsZE5hbWUrJ1wiXScpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLmZpbmQoJ3NlbGVjdFtuYW1lPVwiJytmaWVsZE5hbWUrJ1wiXScpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBmb3JtLmZpbmQoJ3NlbGVjdFtuYW1lPVwiJytmaWVsZE5hbWUrJ1wiXScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybS5maW5kKCd0ZXh0YXJlYVtuYW1lPVwiJytmaWVsZE5hbWUrJ1wiXScpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBmb3JtLmZpbmQoJ3RleHRhcmVhW25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5jbG9zZXN0KCcuJyArIF90aGlzLmNvbmZpZy5jaGVja2JveF9sYWJlbCkubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IGZpZWxkLmNsb3Nlc3QoJy4nICsgX3RoaXMuY29uZmlnLmNoZWNrYm94X2xhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWVsZCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuYWRkQ2xhc3MoX3RoaXMuY29uZmlnLmVycm9yX2NsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5jbG9zZXN0KF90aGlzLmNvbmZpZy5mb3JtX2xhYmVsKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCInICsgX3RoaXMuY29uZmlnLmVycm9yX21lc3NhZ2UgKyAnXCI+JyArIGVycm9yc1tmaWVsZE5hbWVdICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwbG9hZDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICRib2R5Lm9uKCdzdWJtaXQnLCAnLmZvcm0tZmlsZS11cGxvYWQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFJTS5zdWJtaXQodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBvblN0YXJ0OiBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbihyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiByZXN1bHQuc3RhdHVzID09PSB0cnVlICYmIHJlc3VsdC5oYXNPd25Qcm9wZXJ0eSgncGhvdG9fdXJsJykpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnLnVwbG9hZF9idXR0b25fb25jaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmNsb3Nlc3QoJy51cGxvYWRfYnV0dG9uJykuZmluZCgnLnVwbG9hZF9idXR0b25fZmllbGQnKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcudXBsb2FkX2J1dHRvbicpLmZpbmQoJy51cGxvYWRfYnV0dG9uX2ZpZWxkJykuaHRtbCgkKHRoaXMpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZW5kOiBmdW5jdGlvbihhY3Rpb24sIG1ldGhvZCwgZGF0YSwgY2IsIGVycilcbiAgICAgICAge1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2IgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVyciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGVyciA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgICAgICAkLmFqYXhTZXR1cCh7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IG1ldGhvZC50b0xvd2VyQ2FzZSgpID09ICdnZXQnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBjYixcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdKU09OJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGNhdGNoKGUpe31cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRMaW5rOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgJGJvZHkub24oJ2NsaWNrJywgX3RoaXMuY29uZmlnLmxpbmtfY2xhc3MsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxpbmsuZGF0YSgnaXMtYnVzeScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsaW5rLmRhdGEoJ2lzLWJ1c3knLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSAoJCh0aGlzKS5hdHRyKCdocmVmJykpIHx8ICQodGhpcykuZGF0YSgnYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCA9ICgkKHRoaXMpLmRhdGEoJ21ldGhvZCcpKSB8fCAnZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VuZChcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluay5kYXRhKCdjYWxsYmFjaycpICYmIF90aGlzLmNhbGxiYWNrX3N0YWNrLmhhc093blByb3BlcnR5KGxpbmsuZGF0YSgnY2FsbGJhY2snKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbGJhY2tfc3RhY2tbbGluay5kYXRhKCdjYWxsYmFjaycpXShsaW5rLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVmYXVsdF9oYW5kbGVyKGxpbmssIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmRhdGEoJ2lzLWJ1c3knLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0X2hhbmRsZXIobGluaywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluay5kYXRhKCdpcy1idXN5JywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRGb3JtOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgJGJvZHkub24oJ3N1Ym1pdCcsIF90aGlzLmNvbmZpZy5mb3JtX2NsYXNzLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHZhciBmb3JtICAgID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uICA9IGZvcm0uYXR0cignYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCAgPSAoZm9ybS5hdHRyKCdtZXRob2QnKSB8fCAncG9zdCcpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhICAgID0gISF3aW5kb3cuRm9ybURhdGEgPyBuZXcgRm9ybURhdGEoZm9ybVswXSkgOiBmb3JtLnNlcmlhbGl6ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uZGF0YSgnaXMtYnVzeScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3JtLmRhdGEoJ2lzLWJ1c3knLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uZGF0YSgnbG9hZGluZycpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uZGF0YSgnb3JpZ2luYWwnLCBidXR0b24udGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0KGJ1dHRvbi5kYXRhKCdsb2FkaW5nJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmFkZENsYXNzKCdwcmVsb2FkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uZGF0YSgncHJlY2FsbGJhY2snKSAmJiBfdGhpcy5jYWxsYmFja19zdGFjay5oYXNPd25Qcm9wZXJ0eShmb3JtLmRhdGEoJ3ByZWNhbGxiYWNrJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFfdGhpcy5jYWxsYmFja19zdGFja1tmb3JtLmRhdGEoJ3ByZWNhbGxiYWNrJyldKGZvcm0pKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kKFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLmRhdGEoJ2NhbGxiYWNrJykgJiYgX3RoaXMuY2FsbGJhY2tfc3RhY2suaGFzT3duUHJvcGVydHkoZm9ybS5kYXRhKCdjYWxsYmFjaycpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsYmFja19zdGFja1tmb3JtLmRhdGEoJ2NhbGxiYWNrJyldKGZvcm0sIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0X2hhbmRsZXIoZm9ybSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLmhhc0NsYXNzKF90aGlzLmNvbmZpZy5mb3JtX3Jlc2V0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnLicgKyBfdGhpcy5jb25maWcuZXJyb3JfY2xhc3MpLnJlbW92ZUNsYXNzKF90aGlzLmNvbmZpZy5lcnJvcl9jbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZ2V0KDApLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJ1dHRvbiAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5kYXRhKCdvcmlnaW5hbCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHQoYnV0dG9uLmRhdGEoJ29yaWdpbmFsJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygncHJlbG9hZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmRhdGEoJ2lzLWJ1c3knLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0X2hhbmRsZXIoZm9ybSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5kYXRhKCdpcy1idXN5JywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKGNvbmZpZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5leHRlbmQoY29uZmlnKTtcblxuICAgICAgICAgICAgdGhpcy5pbml0Rm9ybSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0TGluaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFwcC5hamF4Rm9ybS5pbml0KCk7XG5cbn0pKGRvY3VtZW50LmJvZHkpOyJdfQ==

'use strict';

var app = app || {};

(function (body) {
    "use strict";

    function CountdownTimer(elm, tl) {
        this.initialize.apply(this, arguments);
    }

    CountdownTimer.prototype = {
        initialize: function initialize(elm, tl) {
            var elem = document.getElementById(elm);

            if (elem) {
                this.elem = elem;
                this.tl = tl;
                this.countDown();
            }
        },

        countDown: function countDown() {
            var today = new Date(),
                day = Math.floor((this.tl - today) / (24 * 60 * 60 * 1000)),
                hour = Math.floor((this.tl - today) % (24 * 60 * 60 * 1000) / (60 * 60 * 1000)),
                min = Math.floor((this.tl - today) % (24 * 60 * 60 * 1000) / (60 * 1000)) % 60,
                sec = Math.floor((this.tl - today) % (24 * 60 * 60 * 1000) / 1000) % 60 % 60,
                me = this;

            if (this.tl - today > 0) {

                var timer = ['<div class="timer__parts__column"><div class="timer__parts__digit">', this.addZero(day), '</div><div class="timer__parts__caption">', declOfNum(day, ['День', 'Дня', 'Дней']), '</div></div>', '<div class="timer__parts__column"><div class="timer__parts__digit">', this.addZero(hour), '</div><div class="timer__parts__caption">', declOfNum(hour, ['Час', 'Часа', 'Часов']), '</div></div>', '<div class="timer__parts__column"><div class="timer__parts__digit">', this.addZero(min), '</div><div class="timer__parts__caption">', declOfNum(min, ['Минута', 'Минуты', 'Минут']), '</div></div>', '<div class="timer__parts__column"><div class="timer__parts__digit">', this.addZero(sec), '</div><div class="timer__parts__caption">', declOfNum(sec, ['Секунда', 'Секунды', 'Секунд']), '</div></div>'];

                if (this.elem) {
                    this.elem.innerHTML = timer.join('');
                    setTimeout(function () {
                        me.countDown();
                    }, 1000);
                } else {
                    return;
                }
            } else {
                return false;
            }
        },

        addZero: function addZero(num) {
            return ('0' + num).slice(-2);
        }
    };

    app.countdown = {
        init: function init() {
            // Акция длится не более 7 - 9 дней
            // if (day < 7)
            // {
            //     t = new Date(year, month, 7, 23, 59, 59);
            // }
            // else if(7<=day && day<14)
            // {
            //     t = new Date(year, month, 14, 23, 59, 59);
            // }
            // else if(14<=day && day<21)
            // {
            //     t = new Date(year, month, 21, 23, 59, 59);
            // }
            // else if(21<=day && day<31)
            // { // если в месяце меньше 31 дня, то Date просто перейдет на следующий месяц
            //     t = new Date(year, month, 31, 23, 59, 59);
            // }

            // new Date(year, month, date, hours, minutes, seconds, ms)
            new CountdownTimer('countdown', new Date(2017, 7, 1, 0, 0, 0));
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmNvdW50ZG93bi5qcyJdLCJuYW1lcyI6WyJhcHAiLCJDb3VudGRvd25UaW1lciIsImVsbSIsInRsIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwicHJvdG90eXBlIiwiZWxlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb3VudERvd24iLCJ0b2RheSIsIkRhdGUiLCJkYXkiLCJNYXRoIiwiZmxvb3IiLCJob3VyIiwibWluIiwic2VjIiwibWUiLCJ0aW1lciIsImFkZFplcm8iLCJkZWNsT2ZOdW0iLCJpbm5lckhUTUwiLCJqb2luIiwic2V0VGltZW91dCIsIm51bSIsInNsaWNlIiwiY291bnRkb3duIiwiaW5pdCIsImJvZHkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsTUFBTUEsT0FBTyxFQUFqQjs7QUFFQSxDQUFFLGdCQUFRO0FBQ047O0FBRUEsYUFBU0MsY0FBVCxDQUF3QkMsR0FBeEIsRUFBNEJDLEVBQTVCLEVBQStCO0FBQzNCLGFBQUtDLFVBQUwsQ0FBZ0JDLEtBQWhCLENBQXNCLElBQXRCLEVBQTRCQyxTQUE1QjtBQUNIOztBQUVETCxtQkFBZU0sU0FBZixHQUF5QjtBQUNyQkgsb0JBQVksb0JBQVNGLEdBQVQsRUFBYUMsRUFBYixFQUFpQjtBQUN6QixnQkFBSUssT0FBT0MsU0FBU0MsY0FBVCxDQUF3QlIsR0FBeEIsQ0FBWDs7QUFFQSxnQkFBR00sSUFBSCxFQUFTO0FBQ0wscUJBQUtBLElBQUwsR0FBWUEsSUFBWjtBQUNBLHFCQUFLTCxFQUFMLEdBQVVBLEVBQVY7QUFDQSxxQkFBS1EsU0FBTDtBQUNIO0FBQ0osU0FUb0I7O0FBV3JCQSxtQkFBVyxxQkFBVztBQUNsQixnQkFBSUMsUUFBTSxJQUFJQyxJQUFKLEVBQVY7QUFBQSxnQkFDSUMsTUFBSUMsS0FBS0MsS0FBTCxDQUFXLENBQUMsS0FBS2IsRUFBTCxHQUFRUyxLQUFULEtBQWlCLEtBQUcsRUFBSCxHQUFNLEVBQU4sR0FBUyxJQUExQixDQUFYLENBRFI7QUFBQSxnQkFFSUssT0FBS0YsS0FBS0MsS0FBTCxDQUFZLENBQUMsS0FBS2IsRUFBTCxHQUFRUyxLQUFULEtBQWlCLEtBQUcsRUFBSCxHQUFNLEVBQU4sR0FBUyxJQUExQixDQUFELElBQW1DLEtBQUcsRUFBSCxHQUFNLElBQXpDLENBQVgsQ0FGVDtBQUFBLGdCQUdJTSxNQUFJSCxLQUFLQyxLQUFMLENBQVksQ0FBQyxLQUFLYixFQUFMLEdBQVFTLEtBQVQsS0FBaUIsS0FBRyxFQUFILEdBQU0sRUFBTixHQUFTLElBQTFCLENBQUQsSUFBbUMsS0FBRyxJQUF0QyxDQUFYLElBQXdELEVBSGhFO0FBQUEsZ0JBSUlPLE1BQUlKLEtBQUtDLEtBQUwsQ0FBWSxDQUFDLEtBQUtiLEVBQUwsR0FBUVMsS0FBVCxLQUFpQixLQUFHLEVBQUgsR0FBTSxFQUFOLEdBQVMsSUFBMUIsQ0FBRCxHQUFrQyxJQUE3QyxJQUFtRCxFQUFuRCxHQUFzRCxFQUo5RDtBQUFBLGdCQUtJUSxLQUFHLElBTFA7O0FBT0EsZ0JBQU0sS0FBS2pCLEVBQUwsR0FBVVMsS0FBWixHQUFzQixDQUExQixFQUE2Qjs7QUFFekIsb0JBQU1TLFFBQVEsQ0FDVixxRUFEVSxFQUM2RCxLQUFLQyxPQUFMLENBQWFSLEdBQWIsQ0FEN0QsRUFDZ0YsMkNBRGhGLEVBQzZIUyxVQUFVVCxHQUFWLEVBQWUsQ0FBQyxNQUFELEVBQVMsS0FBVCxFQUFnQixNQUFoQixDQUFmLENBRDdILEVBQ3NLLGNBRHRLLEVBRVYscUVBRlUsRUFFNkQsS0FBS1EsT0FBTCxDQUFhTCxJQUFiLENBRjdELEVBRWlGLDJDQUZqRixFQUU4SE0sVUFBVU4sSUFBVixFQUFnQixDQUFDLEtBQUQsRUFBUSxNQUFSLEVBQWdCLE9BQWhCLENBQWhCLENBRjlILEVBRXlLLGNBRnpLLEVBR1YscUVBSFUsRUFHNkQsS0FBS0ssT0FBTCxDQUFhSixHQUFiLENBSDdELEVBR2dGLDJDQUhoRixFQUc2SEssVUFBVUwsR0FBVixFQUFlLENBQUMsUUFBRCxFQUFXLFFBQVgsRUFBcUIsT0FBckIsQ0FBZixDQUg3SCxFQUc0SyxjQUg1SyxFQUlWLHFFQUpVLEVBSTZELEtBQUtJLE9BQUwsQ0FBYUgsR0FBYixDQUo3RCxFQUlnRiwyQ0FKaEYsRUFJNkhJLFVBQVVKLEdBQVYsRUFBZSxDQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLFFBQXZCLENBQWYsQ0FKN0gsRUFJK0ssY0FKL0ssQ0FBZDs7QUFPQSxvQkFBSSxLQUFLWCxJQUFULEVBQWU7QUFDWCx5QkFBS0EsSUFBTCxDQUFVZ0IsU0FBVixHQUFzQkgsTUFBTUksSUFBTixDQUFXLEVBQVgsQ0FBdEI7QUFDQUMsK0JBQVcsWUFBTTtBQUNiTiwyQkFBR1QsU0FBSDtBQUNILHFCQUZELEVBRUcsSUFGSDtBQUdILGlCQUxELE1BS087QUFDSDtBQUNIO0FBRUosYUFsQkQsTUFrQk87QUFDSCx1QkFBTyxLQUFQO0FBQ0g7QUFDSixTQXhDb0I7O0FBMENyQlcsaUJBQVEsaUJBQVNLLEdBQVQsRUFBYTtBQUNqQixtQkFBTyxDQUFDLE1BQUlBLEdBQUwsRUFBVUMsS0FBVixDQUFnQixDQUFDLENBQWpCLENBQVA7QUFDSDtBQTVDb0IsS0FBekI7O0FBK0NBNUIsUUFBSTZCLFNBQUosR0FBZ0I7QUFDWkMsY0FBTSxnQkFDTjtBQUNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBSTdCLGNBQUosQ0FBbUIsV0FBbkIsRUFBZ0MsSUFBSVksSUFBSixDQUFTLElBQVQsRUFBZSxDQUFmLEVBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCLENBQTNCLENBQWhDO0FBQ0g7QUF2QlcsS0FBaEI7QUEwQkgsQ0FoRkQsRUFnRklKLFNBQVNzQixJQWhGYiIsImZpbGUiOiJfX2FwcC5jb3VudGRvd24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYXBwID0gYXBwIHx8IHt9O1xuXG4oKGJvZHkgPT4ge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gQ291bnRkb3duVGltZXIoZWxtLHRsKXtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgQ291bnRkb3duVGltZXIucHJvdG90eXBlPXsgXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsbSx0bCkge1xuICAgICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG0pO1xuXG4gICAgICAgICAgICBpZihlbGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICAgICAgICAgICAgICB0aGlzLnRsID0gdGw7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudERvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjb3VudERvd246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRvZGF5PW5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZGF5PU1hdGguZmxvb3IoKHRoaXMudGwtdG9kYXkpLygyNCo2MCo2MCoxMDAwKSksXG4gICAgICAgICAgICAgICAgaG91cj1NYXRoLmZsb29yKCgodGhpcy50bC10b2RheSklKDI0KjYwKjYwKjEwMDApKS8oNjAqNjAqMTAwMCkpLFxuICAgICAgICAgICAgICAgIG1pbj1NYXRoLmZsb29yKCgodGhpcy50bC10b2RheSklKDI0KjYwKjYwKjEwMDApKS8oNjAqMTAwMCkpJTYwLFxuICAgICAgICAgICAgICAgIHNlYz1NYXRoLmZsb29yKCgodGhpcy50bC10b2RheSklKDI0KjYwKjYwKjEwMDApKS8xMDAwKSU2MCU2MCxcbiAgICAgICAgICAgICAgICBtZT10aGlzO1xuXG4gICAgICAgICAgICBpZiAoKCB0aGlzLnRsIC0gdG9kYXkgKSA+IDApIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gW1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fY29sdW1uXCI+PGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fZGlnaXRcIj4nLCB0aGlzLmFkZFplcm8oZGF5KSAsJzwvZGl2PjxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2NhcHRpb25cIj4nLCBkZWNsT2ZOdW0oZGF5LCBbJ9CU0LXQvdGMJywgJ9CU0L3RjycsICfQlNC90LXQuSddKSAsJzwvZGl2PjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19jb2x1bW5cIj48ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19kaWdpdFwiPicsIHRoaXMuYWRkWmVybyhob3VyKSAsJzwvZGl2PjxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2NhcHRpb25cIj4nLCBkZWNsT2ZOdW0oaG91ciwgWyfQp9Cw0YEnLCAn0KfQsNGB0LAnLCAn0KfQsNGB0L7QsiddKSAsJzwvZGl2PjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19jb2x1bW5cIj48ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19kaWdpdFwiPicsIHRoaXMuYWRkWmVybyhtaW4pICwnPC9kaXY+PGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fY2FwdGlvblwiPicsIGRlY2xPZk51bShtaW4sIFsn0JzQuNC90YPRgtCwJywgJ9Cc0LjQvdGD0YLRiycsICfQnNC40L3Rg9GCJ10pICwnPC9kaXY+PC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2NvbHVtblwiPjxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2RpZ2l0XCI+JywgdGhpcy5hZGRaZXJvKHNlYykgLCc8L2Rpdj48ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19jYXB0aW9uXCI+JywgZGVjbE9mTnVtKHNlYywgWyfQodC10LrRg9C90LTQsCcsICfQodC10LrRg9C90LTRiycsICfQodC10LrRg9C90LQnXSkgLCc8L2Rpdj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5pbm5lckhUTUwgPSB0aW1lci5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZS5jb3VudERvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkWmVybzpmdW5jdGlvbihudW0peyBcbiAgICAgICAgICAgIHJldHVybiAoJzAnK251bSkuc2xpY2UoLTIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFwcC5jb3VudGRvd24gPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8g0JDQutGG0LjRjyDQtNC70LjRgtGB0Y8g0L3QtSDQsdC+0LvQtdC1IDcgLSA5INC00L3QtdC5XG4gICAgICAgICAgICAvLyBpZiAoZGF5IDwgNylcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICB0ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDcsIDIzLCA1OSwgNTkpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZSBpZig3PD1kYXkgJiYgZGF5PDE0KVxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIHQgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMTQsIDIzLCA1OSwgNTkpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZSBpZigxNDw9ZGF5ICYmIGRheTwyMSlcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICB0ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDIxLCAyMywgNTksIDU5KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYoMjE8PWRheSAmJiBkYXk8MzEpXG4gICAgICAgICAgICAvLyB7IC8vINC10YHQu9C4INCyINC80LXRgdGP0YbQtSDQvNC10L3RjNGI0LUgMzEg0LTQvdGPLCDRgtC+IERhdGUg0L/RgNC+0YHRgtC+INC/0LXRgNC10LnQtNC10YIg0L3QsCDRgdC70LXQtNGD0Y7RidC40Lkg0LzQtdGB0Y/RhlxuICAgICAgICAgICAgLy8gICAgIHQgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMzEsIDIzLCA1OSwgNTkpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAvLyBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG1zKVxuICAgICAgICAgICAgbmV3IENvdW50ZG93blRpbWVyKCdjb3VudGRvd24nLCBuZXcgRGF0ZSgyMDE3LCA3LCAxLCAwLCAwLCAwKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSkoZG9jdW1lbnQuYm9keSk7Il19

'use strict';

var app = app || {};

(function (body) {
    "use strict";

    app.documents = {
        init: function init() {
            $('body').on('click', '.j-load-documents', function (e) {
                var $button = $(this);
                var motion = $button.data('motion');

                if (motion === 'show') {
                    $button.data('motion', 'hide');
                    $('#documents').find('.is-motion').removeClass('is-hidden');
                } else {
                    $button.data('motion', 'show');

                    $('html, body').stop().animate({ 'scrollTop': $('#documentation-anchor').offset().top }, 'fast');

                    setTimeout(function () {
                        $('#documents').find('.is-motion').addClass('is-hidden');
                    }, 200);
                }

                $button.closest('.page-button').toggleClass('_down').toggleClass('_up');
            });
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmRvY3VtZW50cy5qcyJdLCJuYW1lcyI6WyJhcHAiLCJkb2N1bWVudHMiLCJpbml0IiwiJCIsIm9uIiwiZSIsIiRidXR0b24iLCJtb3Rpb24iLCJkYXRhIiwiZmluZCIsInJlbW92ZUNsYXNzIiwic3RvcCIsImFuaW1hdGUiLCJvZmZzZXQiLCJ0b3AiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJjbG9zZXN0IiwidG9nZ2xlQ2xhc3MiLCJkb2N1bWVudCIsImJvZHkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsTUFBTUEsT0FBTyxFQUFqQjs7QUFFQSxDQUFFLGdCQUFRO0FBQ047O0FBRUFBLFFBQUlDLFNBQUosR0FBZ0I7QUFDWkMsY0FBTSxnQkFDTjtBQUNJQyxjQUFFLE1BQUYsRUFBVUMsRUFBVixDQUFhLE9BQWIsRUFBc0IsbUJBQXRCLEVBQTJDLFVBQVNDLENBQVQsRUFBWTtBQUNuRCxvQkFBTUMsVUFBVUgsRUFBRSxJQUFGLENBQWhCO0FBQ0Esb0JBQU1JLFNBQVNELFFBQVFFLElBQVIsQ0FBYSxRQUFiLENBQWY7O0FBRUEsb0JBQUlELFdBQVcsTUFBZixFQUF1QjtBQUNuQkQsNEJBQVFFLElBQVIsQ0FBYSxRQUFiLEVBQXVCLE1BQXZCO0FBQ0FMLHNCQUFFLFlBQUYsRUFBZ0JNLElBQWhCLENBQXFCLFlBQXJCLEVBQW1DQyxXQUFuQyxDQUErQyxXQUEvQztBQUNILGlCQUhELE1BR087QUFDSEosNEJBQVFFLElBQVIsQ0FBYSxRQUFiLEVBQXVCLE1BQXZCOztBQUVBTCxzQkFBRSxZQUFGLEVBQWdCUSxJQUFoQixHQUF1QkMsT0FBdkIsQ0FBK0IsRUFBRSxhQUFhVCxFQUFFLHVCQUFGLEVBQTJCVSxNQUEzQixHQUFvQ0MsR0FBbkQsRUFBL0IsRUFBeUYsTUFBekY7O0FBRUFDLCtCQUFXLFlBQVU7QUFDakJaLDBCQUFFLFlBQUYsRUFBZ0JNLElBQWhCLENBQXFCLFlBQXJCLEVBQW1DTyxRQUFuQyxDQUE0QyxXQUE1QztBQUNILHFCQUZELEVBRUcsR0FGSDtBQUdIOztBQUVEVix3QkFBUVcsT0FBUixDQUFnQixjQUFoQixFQUFnQ0MsV0FBaEMsQ0FBNEMsT0FBNUMsRUFBcURBLFdBQXJELENBQWlFLEtBQWpFO0FBQ0gsYUFsQkQ7QUFtQkg7QUF0QlcsS0FBaEI7QUF5QkgsQ0E1QkQsRUE0QklDLFNBQVNDLElBNUJiIiwiZmlsZSI6Il9fYXBwLmRvY3VtZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAuZG9jdW1lbnRzID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmotbG9hZC1kb2N1bWVudHMnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW90aW9uID0gJGJ1dHRvbi5kYXRhKCdtb3Rpb24nKTtcblxuICAgICAgICAgICAgICAgIGlmIChtb3Rpb24gPT09ICdzaG93Jykge1xuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLmRhdGEoJ21vdGlvbicsICdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNkb2N1bWVudHMnKS5maW5kKCcuaXMtbW90aW9uJykucmVtb3ZlQ2xhc3MoJ2lzLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRidXR0b24uZGF0YSgnbW90aW9uJywgJ3Nob3cnKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoeyAnc2Nyb2xsVG9wJzogJCgnI2RvY3VtZW50YXRpb24tYW5jaG9yJykub2Zmc2V0KCkudG9wIH0sICdmYXN0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2RvY3VtZW50cycpLmZpbmQoJy5pcy1tb3Rpb24nKS5hZGRDbGFzcygnaXMtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5jbG9zZXN0KCcucGFnZS1idXR0b24nKS50b2dnbGVDbGFzcygnX2Rvd24nKS50b2dnbGVDbGFzcygnX3VwJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKShkb2N1bWVudC5ib2R5KTsiXX0=

"use strict";

var app = app || {};

(function (body) {
    "use strict";

    app.gallery = {
        init: function init() {
            $('.zoom').fancybox();
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmdhbGxlcnkuanMiXSwibmFtZXMiOlsiYXBwIiwiZ2FsbGVyeSIsImluaXQiLCIkIiwiZmFuY3lib3giLCJkb2N1bWVudCIsImJvZHkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsTUFBTUEsT0FBTyxFQUFqQjs7QUFFQSxDQUFFLGdCQUFRO0FBQ047O0FBRUFBLFFBQUlDLE9BQUosR0FBYztBQUNWQyxjQUFNLGdCQUNOO0FBQ0lDLGNBQUUsT0FBRixFQUFXQyxRQUFYO0FBQ0g7QUFKUyxLQUFkO0FBT0gsQ0FWRCxFQVVJQyxTQUFTQyxJQVZiIiwiZmlsZSI6Il9fYXBwLmdhbGxlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYXBwID0gYXBwIHx8IHt9O1xuXG4oKGJvZHkgPT4ge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYXBwLmdhbGxlcnkgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgJCgnLnpvb20nKS5mYW5jeWJveCgpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpOyJdfQ==

"use strict";

var app = app || {};

(function (body) {
    "use strict";

    app.layzr = {
        init: function init() {
            $(window).lazyLoadXT({
                edgeY: 200,
                srcAttr: 'data-src'
            });
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLmxheXpyLmpzIl0sIm5hbWVzIjpbImFwcCIsImxheXpyIiwiaW5pdCIsIiQiLCJ3aW5kb3ciLCJsYXp5TG9hZFhUIiwiZWRnZVkiLCJzcmNBdHRyIiwiZG9jdW1lbnQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7O0FBRUEsQ0FBRSxnQkFBUTtBQUNOOztBQUVBQSxRQUFJQyxLQUFKLEdBQVk7QUFDUkMsY0FBTSxnQkFDTjtBQUNJQyxjQUFFQyxNQUFGLEVBQVVDLFVBQVYsQ0FBcUI7QUFDakJDLHVCQUFRLEdBRFM7QUFFakJDLHlCQUFTO0FBRlEsYUFBckI7QUFJSDtBQVBPLEtBQVo7QUFVSCxDQWJELEVBYUlDLFNBQVNDLElBYmIiLCJmaWxlIjoiX19hcHAubGF5enIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYXBwID0gYXBwIHx8IHt9O1xuXG4oKGJvZHkgPT4ge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYXBwLmxheXpyID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgICQod2luZG93KS5sYXp5TG9hZFhUKHtcbiAgICAgICAgICAgICAgICBlZGdlWTogIDIwMCxcbiAgICAgICAgICAgICAgICBzcmNBdHRyOiAnZGF0YS1zcmMnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKShkb2N1bWVudC5ib2R5KTtcbiJdfQ==

'use strict';

var app = app || {};

(function (body) {
    "use strict";

    app.mask = {
        bind: function bind() {
            var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '.mask-phone';

            new Cleave(selector, {
                phone: true,
                phoneRegionCode: 'ru'
            });
        },
        init: function init() {
            var _this_ = this;

            _this_.bind();

            $('body').on('popup.after_open', function (e, popup) {

                setTimeout(function () {
                    _this_.bind($(popup).find('.mask-phone'));
                }, 100);
            });
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLm1hc2suanMiXSwibmFtZXMiOlsiYXBwIiwibWFzayIsImJpbmQiLCJzZWxlY3RvciIsIkNsZWF2ZSIsInBob25lIiwicGhvbmVSZWdpb25Db2RlIiwiaW5pdCIsIl90aGlzXyIsIiQiLCJvbiIsImUiLCJwb3B1cCIsInNldFRpbWVvdXQiLCJmaW5kIiwiZG9jdW1lbnQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7O0FBRUEsQ0FBRSxnQkFBUTtBQUNOOztBQUVBQSxRQUFJQyxJQUFKLEdBQVc7QUFDUEMsWUFETyxrQkFDd0I7QUFBQSxnQkFBMUJDLFFBQTBCLHVFQUFmLGFBQWU7O0FBQzNCLGdCQUFJQyxNQUFKLENBQVdELFFBQVgsRUFBcUI7QUFDakJFLHVCQUFPLElBRFU7QUFFakJDLGlDQUFpQjtBQUZBLGFBQXJCO0FBSUgsU0FOTTtBQVFQQyxZQVJPLGtCQVFBO0FBQ0gsZ0JBQU1DLFNBQVMsSUFBZjs7QUFFQUEsbUJBQU9OLElBQVA7O0FBRUFPLGNBQUUsTUFBRixFQUFVQyxFQUFWLENBQWEsa0JBQWIsRUFBaUMsVUFBU0MsQ0FBVCxFQUFZQyxLQUFaLEVBQW1COztBQUVoREMsMkJBQVcsWUFBTTtBQUNiTCwyQkFBT04sSUFBUCxDQUFZTyxFQUFFRyxLQUFGLEVBQVNFLElBQVQsQ0FBYyxhQUFkLENBQVo7QUFDSCxpQkFGRCxFQUVHLEdBRkg7QUFHSCxhQUxEO0FBTUg7QUFuQk0sS0FBWDtBQXNCSCxDQXpCRCxFQXlCSUMsU0FBU0MsSUF6QmIiLCJmaWxlIjoiX19hcHAubWFzay5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAubWFzayA9IHtcbiAgICAgICAgYmluZChzZWxlY3RvciA9ICcubWFzay1waG9uZScpIHtcbiAgICAgICAgICAgIG5ldyBDbGVhdmUoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgICAgICBwaG9uZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwaG9uZVJlZ2lvbkNvZGU6ICdydSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQoKSB7XG4gICAgICAgICAgICBjb25zdCBfdGhpc18gPSB0aGlzO1xuXG4gICAgICAgICAgICBfdGhpc18uYmluZCgpO1xuXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ3BvcHVwLmFmdGVyX29wZW4nLCBmdW5jdGlvbihlLCBwb3B1cCkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXy5iaW5kKCQocG9wdXApLmZpbmQoJy5tYXNrLXBob25lJykpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKShkb2N1bWVudC5ib2R5KTsiXX0=

'use strict';

var app = app || {};

(function (body) {
    "use strict";

    app.popup = {
        init: function init() {
            $.popup.init('.j-open-popup', {
                hashChange: false,
                cssPosition: false,
                wrapper: '.layout-wrapper'
            });
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLnBvcHVwLmpzIl0sIm5hbWVzIjpbImFwcCIsInBvcHVwIiwiaW5pdCIsIiQiLCJoYXNoQ2hhbmdlIiwiY3NzUG9zaXRpb24iLCJ3cmFwcGVyIiwiZG9jdW1lbnQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7O0FBRUEsQ0FBRSxnQkFBUTtBQUNOOztBQUVBQSxRQUFJQyxLQUFKLEdBQVk7QUFDUkMsY0FBTSxnQkFDTjtBQUNJQyxjQUFFRixLQUFGLENBQVFDLElBQVIsQ0FBYSxlQUFiLEVBQThCO0FBQzFCRSw0QkFBWSxLQURjO0FBRTFCQyw2QkFBYSxLQUZhO0FBRzFCQyx5QkFBUztBQUhpQixhQUE5QjtBQUtIO0FBUk8sS0FBWjtBQVdILENBZEQsRUFjSUMsU0FBU0MsSUFkYiIsImZpbGUiOiJfX2FwcC5wb3B1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAucG9wdXAgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgJC5wb3B1cC5pbml0KCcuai1vcGVuLXBvcHVwJywge1xuICAgICAgICAgICAgICAgIGhhc2hDaGFuZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNzc1Bvc2l0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cmFwcGVyOiAnLmxheW91dC13cmFwcGVyJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSkoZG9jdW1lbnQuYm9keSk7Il19

'use strict';

var app = app || {};

;(function (body) {
    "use strict";

    var _this;

    app.sandwich = {

        config: {
            keyHooks: !1,
            selector: '.js-sandwich-menu',
            wrapper: '.layout-wrapper',
            overlay: '.overlay'
        },

        extend: function extend(config) {
            _this = this;

            if (typeof config !== 'undefined') {
                var x;
                for (x in config) {
                    if (typeof _this.config[x] !== 'undefined') _this.config[x] = config[x];
                }
            }
        },

        isOpen: function isOpen() {
            return $('body').hasClass('page-visible');
        },

        hide: function hide() {
            $('body').removeClass('page-open');

            setTimeout(function () {
                $('body').removeClass('page-visible');
            }, 10);

            $(this.config.overlay).css({
                'visibility': 'hidden'
            });
        },

        toggle: function toggle() {
            if ($('body').hasClass('page-visible')) {
                $('body').removeClass('page-open');

                setTimeout(function () {
                    $('body').removeClass('page-visible');
                }, 200);
            } else {
                $('body').addClass('page-open');

                setTimeout(function () {
                    $('body').addClass('page-visible');
                }, 10);
            }

            var visibility = 'visible';

            if (!$('body').hasClass('page-open')) {
                visibility = 'hidden';
            }

            $(_this.config.overlay).css({
                'visibility': visibility
            });
        },

        sandwichTrigger: function sandwichTrigger() {
            _this = this;

            if (_this.config.keyHooks) {
                $('body').on('keydown', function (e) {
                    if (e.keyCode == 27 && _this.isOpen()) {
                        _this.toggle();
                    }
                });
            };

            $('body').on('click', _this.config.selector, function (e) {
                e.preventDefault ? e.preventDefault() : e.returnValue = false;
                _this.toggle();
            });
        },

        overlayTrigger: function overlayTrigger() {
            _this = this;

            $('body').on('click', _this.config.overlay, function (e) {
                _this.hide();
            });
        },

        init: function init() {
            this.extend({
                keyHooks: !0,
                selector: '.js-sandwich-menu',
                wrapper: '.layout-wrapper',
                overlay: '#menu-overlay'
            });

            this.sandwichTrigger();
            this.overlayTrigger();
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLnNhbmR3aWNoLmpzIl0sIm5hbWVzIjpbImFwcCIsImJvZHkiLCJfdGhpcyIsInNhbmR3aWNoIiwiY29uZmlnIiwia2V5SG9va3MiLCJzZWxlY3RvciIsIndyYXBwZXIiLCJvdmVybGF5IiwiZXh0ZW5kIiwieCIsImlzT3BlbiIsIiQiLCJoYXNDbGFzcyIsImhpZGUiLCJyZW1vdmVDbGFzcyIsInNldFRpbWVvdXQiLCJjc3MiLCJ0b2dnbGUiLCJhZGRDbGFzcyIsInZpc2liaWxpdHkiLCJzYW5kd2ljaFRyaWdnZXIiLCJvbiIsImUiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsIm92ZXJsYXlUcmlnZ2VyIiwiaW5pdCIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7O0FBRUEsQ0FBQyxDQUFDLFVBQVNDLElBQVQsRUFBYztBQUNaOztBQUVBLFFBQUlDLEtBQUo7O0FBRUFGLFFBQUlHLFFBQUosR0FBZTs7QUFFWEMsZ0JBQVE7QUFDSkMsc0JBQVUsQ0FBQyxDQURQO0FBRUpDLHNCQUFVLG1CQUZOO0FBR0pDLHFCQUFTLGlCQUhMO0FBSUpDLHFCQUFTO0FBSkwsU0FGRzs7QUFTWEMsZ0JBQVEsZ0JBQVNMLE1BQVQsRUFDUjtBQUNJRixvQkFBUSxJQUFSOztBQUVBLGdCQUFJLE9BQU9FLE1BQVAsS0FBa0IsV0FBdEIsRUFDQTtBQUNJLG9CQUFJTSxDQUFKO0FBQ0EscUJBQUtBLENBQUwsSUFBVU4sTUFBVixFQUNBO0FBQ0ksd0JBQUksT0FBT0YsTUFBTUUsTUFBTixDQUFhTSxDQUFiLENBQVAsS0FBMkIsV0FBL0IsRUFDSVIsTUFBTUUsTUFBTixDQUFhTSxDQUFiLElBQWtCTixPQUFPTSxDQUFQLENBQWxCO0FBQ1A7QUFDSjtBQUNKLFNBdEJVOztBQXdCWEMsZ0JBQVEsa0JBQ1I7QUFDSSxtQkFBT0MsRUFBRSxNQUFGLEVBQVVDLFFBQVYsQ0FBbUIsY0FBbkIsQ0FBUDtBQUNILFNBM0JVOztBQTZCWEMsY0FBTSxnQkFDTjtBQUNJRixjQUFFLE1BQUYsRUFBVUcsV0FBVixDQUFzQixXQUF0Qjs7QUFFQUMsdUJBQVcsWUFBVTtBQUNqQkosa0JBQUUsTUFBRixFQUFVRyxXQUFWLENBQXNCLGNBQXRCO0FBQ0gsYUFGRCxFQUVHLEVBRkg7O0FBSUFILGNBQUUsS0FBS1IsTUFBTCxDQUFZSSxPQUFkLEVBQXVCUyxHQUF2QixDQUEyQjtBQUN2Qiw4QkFBYztBQURTLGFBQTNCO0FBR0gsU0F4Q1U7O0FBMENYQyxnQkFBUSxrQkFDUjtBQUNJLGdCQUFJTixFQUFFLE1BQUYsRUFBVUMsUUFBVixDQUFtQixjQUFuQixDQUFKLEVBQ0E7QUFDSUQsa0JBQUUsTUFBRixFQUFVRyxXQUFWLENBQXNCLFdBQXRCOztBQUVBQywyQkFBVyxZQUFVO0FBQ2pCSixzQkFBRSxNQUFGLEVBQVVHLFdBQVYsQ0FBc0IsY0FBdEI7QUFDSCxpQkFGRCxFQUVHLEdBRkg7QUFHSCxhQVBELE1BU0E7QUFDSUgsa0JBQUUsTUFBRixFQUFVTyxRQUFWLENBQW1CLFdBQW5COztBQUVBSCwyQkFBVyxZQUFVO0FBQ2pCSixzQkFBRSxNQUFGLEVBQVVPLFFBQVYsQ0FBbUIsY0FBbkI7QUFDSCxpQkFGRCxFQUVHLEVBRkg7QUFHSDs7QUFFRCxnQkFBSUMsYUFBYSxTQUFqQjs7QUFFQSxnQkFBSSxDQUFDUixFQUFFLE1BQUYsRUFBVUMsUUFBVixDQUFtQixXQUFuQixDQUFMLEVBQ0E7QUFDSU8sNkJBQWEsUUFBYjtBQUNIOztBQUVEUixjQUFFVixNQUFNRSxNQUFOLENBQWFJLE9BQWYsRUFBd0JTLEdBQXhCLENBQTRCO0FBQ3hCLDhCQUFjRztBQURVLGFBQTVCO0FBR0gsU0F2RVU7O0FBeUVYQyx5QkFBaUIsMkJBQ2pCO0FBQ0luQixvQkFBUSxJQUFSOztBQUVBLGdCQUFJQSxNQUFNRSxNQUFOLENBQWFDLFFBQWpCLEVBQ0E7QUFDSU8sa0JBQUUsTUFBRixFQUFVVSxFQUFWLENBQWEsU0FBYixFQUF3QixVQUFTQyxDQUFULEVBQVk7QUFDaEMsd0JBQUdBLEVBQUVDLE9BQUYsSUFBYSxFQUFiLElBQW1CdEIsTUFBTVMsTUFBTixFQUF0QixFQUNBO0FBQ0lULDhCQUFNZ0IsTUFBTjtBQUNIO0FBQ0osaUJBTEQ7QUFNSDs7QUFFRE4sY0FBRSxNQUFGLEVBQVVVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCcEIsTUFBTUUsTUFBTixDQUFhRSxRQUFuQyxFQUE2QyxVQUFTaUIsQ0FBVCxFQUFXO0FBQ3BEQSxrQkFBRUUsY0FBRixHQUFtQkYsRUFBRUUsY0FBRixFQUFuQixHQUF3Q0YsRUFBRUcsV0FBRixHQUFnQixLQUF4RDtBQUNBeEIsc0JBQU1nQixNQUFOO0FBQ0gsYUFIRDtBQUlILFNBM0ZVOztBQTZGWFMsd0JBQWdCLDBCQUNoQjtBQUNJekIsb0JBQVEsSUFBUjs7QUFFQVUsY0FBRSxNQUFGLEVBQVVVLEVBQVYsQ0FBYSxPQUFiLEVBQXNCcEIsTUFBTUUsTUFBTixDQUFhSSxPQUFuQyxFQUE0QyxVQUFTZSxDQUFULEVBQVc7QUFDbkRyQixzQkFBTVksSUFBTjtBQUNILGFBRkQ7QUFHSCxTQXBHVTs7QUFzR1hjLGNBQU0sZ0JBQ047QUFDSSxpQkFBS25CLE1BQUwsQ0FBWTtBQUNSSiwwQkFBVSxDQUFDLENBREg7QUFFUkMsMEJBQVUsbUJBRkY7QUFHUkMseUJBQVMsaUJBSEQ7QUFJUkMseUJBQVM7QUFKRCxhQUFaOztBQU9BLGlCQUFLYSxlQUFMO0FBQ0EsaUJBQUtNLGNBQUw7QUFDSDtBQWpIVSxLQUFmO0FBb0hILENBekhBLEVBeUhFRSxTQUFTNUIsSUF6SFgiLCJmaWxlIjoiX19hcHAuc2FuZHdpY2guanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYXBwIHx8IHt9O1xuXG47KGZ1bmN0aW9uKGJvZHkpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgYXBwLnNhbmR3aWNoID0ge1xuXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAga2V5SG9va3M6ICExLFxuICAgICAgICAgICAgc2VsZWN0b3I6ICcuanMtc2FuZHdpY2gtbWVudScsXG4gICAgICAgICAgICB3cmFwcGVyOiAnLmxheW91dC13cmFwcGVyJyxcbiAgICAgICAgICAgIG92ZXJsYXk6ICcub3ZlcmxheSdcbiAgICAgICAgfSxcblxuICAgICAgICBleHRlbmQ6IGZ1bmN0aW9uKGNvbmZpZylcbiAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICAgICAgZm9yICh4IGluIGNvbmZpZylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuY29uZmlnW3hdICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZ1t4XSA9IGNvbmZpZ1t4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNPcGVuOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAkKCdib2R5JykuaGFzQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdwYWdlLW9wZW4nKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygncGFnZS12aXNpYmxlJyk7XG4gICAgICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgICAgICQodGhpcy5jb25maWcub3ZlcmxheSkuY3NzKHtcbiAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6ICdoaWRkZW4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygncGFnZS12aXNpYmxlJykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdwYWdlLW9wZW4nKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdwYWdlLXZpc2libGUnKTtcbiAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygncGFnZS1vcGVuJyk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygncGFnZS12aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcblxuICAgICAgICAgICAgaWYgKCEkKCdib2R5JykuaGFzQ2xhc3MoJ3BhZ2Utb3BlbicpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKF90aGlzLmNvbmZpZy5vdmVybGF5KS5jc3Moe1xuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogdmlzaWJpbGl0eVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2FuZHdpY2hUcmlnZ2VyOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5rZXlIb29rcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkKCdib2R5Jykub24oJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGUua2V5Q29kZSA9PSAyNyAmJiBfdGhpcy5pc09wZW4oKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCBfdGhpcy5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvdmVybGF5VHJpZ2dlcjogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCBfdGhpcy5jb25maWcub3ZlcmxheSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAga2V5SG9va3M6ICEwLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnLmpzLXNhbmR3aWNoLW1lbnUnLFxuICAgICAgICAgICAgICAgIHdyYXBwZXI6ICcubGF5b3V0LXdyYXBwZXInLFxuICAgICAgICAgICAgICAgIG92ZXJsYXk6ICcjbWVudS1vdmVybGF5J1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2FuZHdpY2hUcmlnZ2VyKCk7XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlUcmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KShkb2N1bWVudC5ib2R5KTsiXX0=

'use strict';

var app = app || {};

(function (body) {
    "use strict";

    app.tabs = {
        init: function init() {
            var $tabs = void 0;

            $('body').on('click', '.j-tabs-trigger', function (e) {
                e.preventDefault();
                var $current = $(this);

                if (!$current.hasClass('is-current')) {
                    var target = $current.data('target');

                    // Clear
                    $tabs = $(this).closest('.j-tabs');
                    $tabs.find('.is-current').removeClass('is-current');
                    $tabs.find('.j-tabs-content').removeClass('is-active');

                    // Set current
                    $current.addClass('is-current');
                    $tabs.find('.j-tabs-content[data-system="' + target + '"]').addClass('is-active');

                    if ($current.hasClass('j-tabs-carousel')) {
                        app.carousel.main('reload', target);
                    }
                }

                return !1;
            });
        }

    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLnRhYnMuanMiXSwibmFtZXMiOlsiYXBwIiwiYm9keSIsInRhYnMiLCJpbml0IiwiJHRhYnMiLCIkIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCIkY3VycmVudCIsImhhc0NsYXNzIiwidGFyZ2V0IiwiZGF0YSIsImNsb3Nlc3QiLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNhcm91c2VsIiwibWFpbiIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7O0FBRUEsQ0FBQyxVQUFTQyxJQUFULEVBQWM7QUFDWDs7QUFFQUQsUUFBSUUsSUFBSixHQUFXO0FBQ1BDLGNBQU0sZ0JBQ047QUFDSSxnQkFBSUMsY0FBSjs7QUFFQUMsY0FBRSxNQUFGLEVBQVVDLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLGlCQUF0QixFQUF5QyxVQUFTQyxDQUFULEVBQVc7QUFDaERBLGtCQUFFQyxjQUFGO0FBQ0Esb0JBQU1DLFdBQVdKLEVBQUUsSUFBRixDQUFqQjs7QUFFQSxvQkFBSSxDQUFDSSxTQUFTQyxRQUFULENBQWtCLFlBQWxCLENBQUwsRUFDQTtBQUNJLHdCQUFNQyxTQUFTRixTQUFTRyxJQUFULENBQWMsUUFBZCxDQUFmOztBQUVBO0FBQ0FSLDRCQUFRQyxFQUFFLElBQUYsRUFBUVEsT0FBUixDQUFnQixTQUFoQixDQUFSO0FBQ0FULDBCQUFNVSxJQUFOLENBQVcsYUFBWCxFQUEwQkMsV0FBMUIsQ0FBc0MsWUFBdEM7QUFDQVgsMEJBQU1VLElBQU4sQ0FBVyxpQkFBWCxFQUE4QkMsV0FBOUIsQ0FBMEMsV0FBMUM7O0FBRUE7QUFDQU4sNkJBQVNPLFFBQVQsQ0FBa0IsWUFBbEI7QUFDQVosMEJBQU1VLElBQU4sQ0FBVyxrQ0FBZ0NILE1BQWhDLEdBQXVDLElBQWxELEVBQXdESyxRQUF4RCxDQUFpRSxXQUFqRTs7QUFFQSx3QkFBSVAsU0FBU0MsUUFBVCxDQUFrQixpQkFBbEIsQ0FBSixFQUEwQztBQUN0Q1YsNEJBQUlpQixRQUFKLENBQWFDLElBQWIsQ0FBa0IsUUFBbEIsRUFBNEJQLE1BQTVCO0FBQ0g7QUFDSjs7QUFFRCx1QkFBTyxDQUFDLENBQVI7QUFDSCxhQXZCRDtBQXdCSDs7QUE3Qk0sS0FBWDtBQWlDSCxDQXBDRCxFQW9DR1EsU0FBU2xCLElBcENaIiwiZmlsZSI6Il9fYXBwLnRhYnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYXBwIHx8IHt9O1xuXG4oZnVuY3Rpb24oYm9keSl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAudGFicyA9IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgJHRhYnM7XG5cbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmotdGFicy10cmlnZ2VyJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRjdXJyZW50ID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIGlmICghJGN1cnJlbnQuaGFzQ2xhc3MoJ2lzLWN1cnJlbnQnKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9ICRjdXJyZW50LmRhdGEoJ3RhcmdldCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyXG4gICAgICAgICAgICAgICAgICAgICR0YWJzID0gJCh0aGlzKS5jbG9zZXN0KCcuai10YWJzJyk7XG4gICAgICAgICAgICAgICAgICAgICR0YWJzLmZpbmQoJy5pcy1jdXJyZW50JykucmVtb3ZlQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgJHRhYnMuZmluZCgnLmotdGFicy1jb250ZW50JykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LmFkZENsYXNzKCdpcy1jdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICR0YWJzLmZpbmQoJy5qLXRhYnMtY29udGVudFtkYXRhLXN5c3RlbT1cIicrdGFyZ2V0KydcIl0nKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRjdXJyZW50Lmhhc0NsYXNzKCdqLXRhYnMtY2Fyb3VzZWwnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmNhcm91c2VsLm1haW4oJ3JlbG9hZCcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxufSkoZG9jdW1lbnQuYm9keSk7Il19

'use strict';

var app = app || {};

(function (body) {
    'use strict';

    app.timeline = {

        data: {},
        filter: null,
        years: null,
        months: null,

        _initCarousel: function _initCarousel() {
            var width = $(window).width(),
                slides = $('#timeline-carousel').find('.slick-slide').length;

            if (width > 768 && slides >= 4 || width > 568 && slides >= 3 || width > 375 && slides >= 2 || width < 375 && slides >= 1) {

                $('#timeline-carousel').slick({
                    lazyLoad: 'ondemand',
                    dots: false,
                    infinite: true,
                    draggable: true,
                    speed: 259,
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    prevArrow: '<button class="carousel__nav carousel__nav--left slick-prev"><svg class="carousel__nav__ico" role="image"><use xlink:href="#left-arrow"/></svg></button>',
                    nextArrow: '<button class="carousel__nav carousel__nav--right slick-next"><svg class="carousel__nav__ico" role="image"><use xlink:href="#right-arrow"/></svg></button>',
                    responsive: [{
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 3
                        }
                    }, {
                        breakpoint: 568,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 2
                        }
                    }, {
                        breakpoint: 375,
                        settings: {
                            fade: true,
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }]
                });
            }
        },
        _currentYear: function _currentYear() {
            return parseInt(this.years.find('.is-current').data('value'));
        },
        _currentMonth: function _currentMonth() {
            return parseInt(this.months.find('.is-current').data('value'));
        },
        _handle: function _handle() {
            var _this = this;

            this.data.current = this._currentYear();
            this.data.months = [];

            this.months.find('.j-timeline-months-item').each(function (key, item) {
                var years = [],
                    strings = $(item).data('if') + '';

                if (typeof strings !== 'undefined' && strings !== '') {
                    years = strings.split(',');

                    for (var x in years) {
                        years[x] = parseInt(years[x]);
                    }
                }

                _this.data.months.push({
                    item: item,
                    year: years
                });
            });
        },
        _reinitCarousel: function _reinitCarousel() {
            var _self_ = this,
                year = this._currentYear(),
                month = this._currentMonth();

            if ($('#timeline-carousel').hasClass('slick-initialized')) {
                $('#timeline-carousel').slick('unslick');
            }

            // $('#timeline-carousel').html('');

            // var count = $('#timeline-cache').find('.carousel__item.is-year-'+ year +'.is-month-'+month).length;

            // $('#timeline-cache').find('.carousel__item.is-year-'+ year +'.is-month-'+month).each(function(k, item) {
            //     $('#timeline-carousel').append($(this).clone());

            //     if ((k+1) == count) {
            //         setTimeout(function() {
            //             _self_._initCarousel();
            //         }, 50);
            //     }
            // });

            // setTimeout(function() {
            //     $('.zoom').fancybox();
            // }, 300);

            _self_._initCarousel();
        },
        _changeFirstMonth: function _changeFirstMonth() {
            this.months.find('.j-timeline-months-item.is-active:first').trigger('click');
        },
        _match: function _match() {
            var _this2 = this;

            var _self_ = this;

            this._handle();

            this.months.find('.j-timeline-months-item').removeClass('is-active');

            $.each(this.data.months, function (k, item) {
                if (item.year.indexOf(_this2.data.current) >= 0) {
                    $(item.item).addClass('is-active');
                }
            });

            this.filter.addClass('is-active');
        },
        _events: function _events() {
            var _self_ = this;

            this.years.find('.j-timeline-years-item').on('click', function (e) {
                e.preventDefault();

                if (!$(this).hasClass('is-current')) {
                    $('#timeline-filter').find('.j-timeline-years').find('.is-current').removeClass('is-current');

                    $(this).addClass('is-current');

                    _self_._match();
                    _self_._changeFirstMonth();
                    _self_._reinitCarousel();
                }
            });

            this.months.find('.j-timeline-months-item').on('click', function (e) {
                e.preventDefault();

                if (!$(this).hasClass('is-current')) {
                    $('#timeline-filter').find('.j-timeline-months').find('.is-current').removeClass('is-current');

                    $(this).addClass('is-current');

                    _self_._match();
                    _self_._reinitCarousel();
                }
            });
        },
        init: function init() {
            this.filter = $('#timeline-filter');
            this.years = this.filter.find('.j-timeline-years');
            this.months = this.filter.find('.j-timeline-months');

            this._match();
            this._events();

            this._reinitCarousel();
        }
    };
})(document.body);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fYXBwLnRpbWVsaW5lLmpzIl0sIm5hbWVzIjpbImFwcCIsInRpbWVsaW5lIiwiZGF0YSIsImZpbHRlciIsInllYXJzIiwibW9udGhzIiwiX2luaXRDYXJvdXNlbCIsIndpZHRoIiwiJCIsIndpbmRvdyIsInNsaWRlcyIsImZpbmQiLCJsZW5ndGgiLCJzbGljayIsImxhenlMb2FkIiwiZG90cyIsImluZmluaXRlIiwiZHJhZ2dhYmxlIiwic3BlZWQiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJmYWRlIiwiX2N1cnJlbnRZZWFyIiwicGFyc2VJbnQiLCJfY3VycmVudE1vbnRoIiwiX2hhbmRsZSIsImN1cnJlbnQiLCJlYWNoIiwia2V5IiwiaXRlbSIsInN0cmluZ3MiLCJzcGxpdCIsIngiLCJwdXNoIiwieWVhciIsIl9yZWluaXRDYXJvdXNlbCIsIl9zZWxmXyIsIm1vbnRoIiwiaGFzQ2xhc3MiLCJfY2hhbmdlRmlyc3RNb250aCIsInRyaWdnZXIiLCJfbWF0Y2giLCJyZW1vdmVDbGFzcyIsImsiLCJpbmRleE9mIiwiYWRkQ2xhc3MiLCJfZXZlbnRzIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJpbml0IiwiZG9jdW1lbnQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1BLE9BQU8sRUFBakI7O0FBRUEsQ0FBRSxnQkFBUTtBQUNOOztBQUVBQSxRQUFJQyxRQUFKLEdBQWU7O0FBRVhDLGNBQU0sRUFGSztBQUdYQyxnQkFBUSxJQUhHO0FBSVhDLGVBQU8sSUFKSTtBQUtYQyxnQkFBUSxJQUxHOztBQU9YQyxxQkFQVywyQkFPTTtBQUNiLGdCQUFJQyxRQUFRQyxFQUFFQyxNQUFGLEVBQVVGLEtBQVYsRUFBWjtBQUFBLGdCQUNJRyxTQUFTRixFQUFFLG9CQUFGLEVBQXdCRyxJQUF4QixDQUE2QixjQUE3QixF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c0JBQUUsSUFBRixFQUFRMEMsUUFBUixDQUFpQixZQUFqQjs7QUFFQVQsMkJBQU9LLE1BQVA7QUFDQUwsMkJBQU9HLGlCQUFQO0FBQ0FILDJCQUFPRCxlQUFQO0FBQ0g7QUFDSixhQVpEOztBQWNBLGlCQUFLbkMsTUFBTCxDQUFZTSxJQUFaLENBQWlCLHlCQUFqQixFQUE0Q3lDLEVBQTVDLENBQStDLE9BQS9DLEVBQXdELFVBQVNDLENBQVQsRUFBWTtBQUNoRUEsa0JBQUVDLGNBQUY7O0FBRUEsb0JBQUksQ0FBQzlDLEVBQUUsSUFBRixFQUFRbUMsUUFBUixDQUFpQixZQUFqQixDQUFMLEVBQXFDO0FBQ2pDbkMsc0JBQUUsa0JBQUYsRUFBc0JHLElBQXRCLENBQTJCLG9CQUEzQixFQUFpREEsSUFBakQsQ0FBc0QsYUFBdEQsRUFBcUVvQyxXQUFyRSxDQUFpRixZQUFqRjs7QUFFQXZDLHNCQUFFLElBQUYsRUFBUTBDLFFBQVIsQ0FBaUIsWUFBakI7O0FBRUFULDJCQUFPSyxNQUFQO0FBQ0FMLDJCQUFPRCxlQUFQO0FBQ0g7QUFDSixhQVhEO0FBWUgsU0E1S1U7QUE4S1hlLFlBOUtXLGtCQStLWDtBQUNJLGlCQUFLcEQsTUFBTCxHQUFjSyxFQUFFLGtCQUFGLENBQWQ7QUFDQSxpQkFBS0osS0FBTCxHQUFhLEtBQUtELE1BQUwsQ0FBWVEsSUFBWixDQUFpQixtQkFBakIsQ0FBYjtBQUNBLGlCQUFLTixNQUFMLEdBQWMsS0FBS0YsTUFBTCxDQUFZUSxJQUFaLENBQWlCLG9CQUFqQixDQUFkOztBQUVBLGlCQUFLbUMsTUFBTDtBQUNBLGlCQUFLSyxPQUFMOztBQUVBLGlCQUFLWCxlQUFMO0FBQ0g7QUF4TFUsS0FBZjtBQTJMSCxDQTlMRCxFQThMSWdCLFNBQVNDLElBOUxiIiwiZmlsZSI6Il9fYXBwLnRpbWVsaW5lLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGFwcCA9IGFwcCB8fCB7fTtcblxuKChib2R5ID0+IHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhcHAudGltZWxpbmUgPSB7XG5cbiAgICAgICAgZGF0YToge30sXG4gICAgICAgIGZpbHRlcjogbnVsbCxcbiAgICAgICAgeWVhcnM6IG51bGwsXG4gICAgICAgIG1vbnRoczogbnVsbCxcblxuICAgICAgICBfaW5pdENhcm91c2VsICgpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICQod2luZG93KS53aWR0aCgpLFxuICAgICAgICAgICAgICAgIHNsaWRlcyA9ICQoJyN0aW1lbGluZS1jYXJvdXNlbCcpLmZpbmQoJy5zbGljay1zbGlkZScpLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICh3aWR0aCA+IDc2OCAmJiBzbGlkZXMgPj0gNCkgfHxcbiAgICAgICAgICAgICAgICAod2lkdGggPiA1NjggJiYgc2xpZGVzID49IDMpIHx8XG4gICAgICAgICAgICAgICAgKHdpZHRoID4gMzc1ICYmIHNsaWRlcyA+PSAyKSB8fFxuICAgICAgICAgICAgICAgICh3aWR0aCA8IDM3NSAmJiBzbGlkZXMgPj0gMSlcbiAgICAgICAgICAgICkge1xuXG4gICAgICAgICAgICAgICAgJCgnI3RpbWVsaW5lLWNhcm91c2VsJykuc2xpY2soe1xuICAgICAgICAgICAgICAgICAgICBsYXp5TG9hZDogJ29uZGVtYW5kJyxcbiAgICAgICAgICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiAyNTksXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgIHByZXZBcnJvdzogJzxidXR0b24gY2xhc3M9XCJjYXJvdXNlbF9fbmF2IGNhcm91c2VsX19uYXYtLWxlZnQgc2xpY2stcHJldlwiPjxzdmcgY2xhc3M9XCJjYXJvdXNlbF9fbmF2X19pY29cIiByb2xlPVwiaW1hZ2VcIj48dXNlIHhsaW5rOmhyZWY9XCIjbGVmdC1hcnJvd1wiLz48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgICAgICBuZXh0QXJyb3c6ICc8YnV0dG9uIGNsYXNzPVwiY2Fyb3VzZWxfX25hdiBjYXJvdXNlbF9fbmF2LS1yaWdodCBzbGljay1uZXh0XCI+PHN2ZyBjbGFzcz1cImNhcm91c2VsX19uYXZfX2ljb1wiIHJvbGU9XCJpbWFnZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNyaWdodC1hcnJvd1wiLz48L3N2Zz48L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA1NjgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogMzc1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfY3VycmVudFllYXIgKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMueWVhcnMuZmluZCgnLmlzLWN1cnJlbnQnKS5kYXRhKCd2YWx1ZScpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY3VycmVudE1vbnRoICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLm1vbnRocy5maW5kKCcuaXMtY3VycmVudCcpLmRhdGEoJ3ZhbHVlJykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGUgKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmN1cnJlbnQgPSB0aGlzLl9jdXJyZW50WWVhcigpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLm1vbnRocyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLm1vbnRocy5maW5kKCcuai10aW1lbGluZS1tb250aHMtaXRlbScpLmVhY2goKGtleSwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB5ZWFycyA9IFtdLCBzdHJpbmdzID0gJChpdGVtKS5kYXRhKCdpZicpICsgJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0cmluZ3MgIT09ICd1bmRlZmluZWQnICYmIHN0cmluZ3MgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHllYXJzID0gc3RyaW5ncy5zcGxpdCgnLCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggaW4geWVhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJzW3hdID0gcGFyc2VJbnQoeWVhcnNbeF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLm1vbnRocy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogeWVhcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9yZWluaXRDYXJvdXNlbCAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX3NlbGZfID0gdGhpcyxcbiAgICAgICAgICAgICAgICB5ZWFyID0gdGhpcy5fY3VycmVudFllYXIoKSxcbiAgICAgICAgICAgICAgICBtb250aCA9IHRoaXMuX2N1cnJlbnRNb250aCgpO1xuXG4gICAgICAgICAgICBpZiAoJCgnI3RpbWVsaW5lLWNhcm91c2VsJykuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGltZWxpbmUtY2Fyb3VzZWwnKS5zbGljaygndW5zbGljaycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAkKCcjdGltZWxpbmUtY2Fyb3VzZWwnKS5odG1sKCcnKTtcblxuICAgICAgICAgICAgLy8gdmFyIGNvdW50ID0gJCgnI3RpbWVsaW5lLWNhY2hlJykuZmluZCgnLmNhcm91c2VsX19pdGVtLmlzLXllYXItJysgeWVhciArJy5pcy1tb250aC0nK21vbnRoKS5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vICQoJyN0aW1lbGluZS1jYWNoZScpLmZpbmQoJy5jYXJvdXNlbF9faXRlbS5pcy15ZWFyLScrIHllYXIgKycuaXMtbW9udGgtJyttb250aCkuZWFjaChmdW5jdGlvbihrLCBpdGVtKSB7XG4gICAgICAgICAgICAvLyAgICAgJCgnI3RpbWVsaW5lLWNhcm91c2VsJykuYXBwZW5kKCQodGhpcykuY2xvbmUoKSk7XG5cbiAgICAgICAgICAgIC8vICAgICBpZiAoKGsrMSkgPT0gY291bnQpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIF9zZWxmXy5faW5pdENhcm91c2VsKCk7XG4gICAgICAgICAgICAvLyAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgICAgLy8gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICAgICAkKCcuem9vbScpLmZhbmN5Ym94KCk7XG4gICAgICAgICAgICAvLyB9LCAzMDApO1xuXG4gICAgICAgICAgICBfc2VsZl8uX2luaXRDYXJvdXNlbCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9jaGFuZ2VGaXJzdE1vbnRoICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW9udGhzLmZpbmQoJy5qLXRpbWVsaW5lLW1vbnRocy1pdGVtLmlzLWFjdGl2ZTpmaXJzdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX21hdGNoICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IF9zZWxmXyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZSgpO1xuXG4gICAgICAgICAgICB0aGlzLm1vbnRocy5maW5kKCcuai10aW1lbGluZS1tb250aHMtaXRlbScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgJC5lYWNoKHRoaXMuZGF0YS5tb250aHMsIChrLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ueWVhci5pbmRleE9mKHRoaXMuZGF0YS5jdXJyZW50KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICQoaXRlbS5pdGVtKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZXZlbnRzICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IF9zZWxmXyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMueWVhcnMuZmluZCgnLmotdGltZWxpbmUteWVhcnMtaXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2lzLWN1cnJlbnQnKSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGltZWxpbmUtZmlsdGVyJykuZmluZCgnLmotdGltZWxpbmUteWVhcnMnKS5maW5kKCcuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtY3VycmVudCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmXy5fbWF0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGZfLl9jaGFuZ2VGaXJzdE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgICAgIF9zZWxmXy5fcmVpbml0Q2Fyb3VzZWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5tb250aHMuZmluZCgnLmotdGltZWxpbmUtbW9udGhzLWl0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdpcy1jdXJyZW50JykpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpbWVsaW5lLWZpbHRlcicpLmZpbmQoJy5qLXRpbWVsaW5lLW1vbnRocycpLmZpbmQoJy5pcy1jdXJyZW50JykucmVtb3ZlQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpcy1jdXJyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NlbGZfLl9tYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICBfc2VsZl8uX3JlaW5pdENhcm91c2VsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdCAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9ICQoJyN0aW1lbGluZS1maWx0ZXInKTtcbiAgICAgICAgICAgIHRoaXMueWVhcnMgPSB0aGlzLmZpbHRlci5maW5kKCcuai10aW1lbGluZS15ZWFycycpO1xuICAgICAgICAgICAgdGhpcy5tb250aHMgPSB0aGlzLmZpbHRlci5maW5kKCcuai10aW1lbGluZS1tb250aHMnKTtcblxuICAgICAgICAgICAgdGhpcy5fbWF0Y2goKTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cygpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZWluaXRDYXJvdXNlbCgpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpOyJdfQ==

'use strict';

(function ($) {
    "use strict";

    var that,
        top,
        changeItem,
        scrollToAnchor,
        $target,
        $element,
        $current,
        $navigationMap,
        $navigation = $('#navigation'),
        $hasScroll = $('html, body');
    var is_mobile = $(window).width() <= 667;

    $navigationMap = $('.j-section').map(function () {
        return {
            offset: $(this).offset().top - 0,
            element: $(this)
        };
    });

    changeItem = function changeItem(scrollTop) {
        $element = null;

        $navigationMap.map(function () {
            that = $(this)[0];
            if (that.offset < scrollTop) {
                $element = that.element;
            }
        });

        if ($element !== null && $element.attr('id')) {

            $current = $navigation.find('.j-navigation[href="#' + $element.attr('id').split('-')[0] + '-section"]');

            if (!$current.hasClass('is-current')) {
                $navigation.find('.j-navigation.is-current').removeClass('is-current');
                $current.addClass('is-current');
            }
        }
    };

    scrollToAnchor = function scrollToAnchor(hash, animate) {
        hash = hash.replace('-section', '').split('?')[0];

        $target = $(hash + '-anchor');

        if ($target.length) {
            top = $target.offset().top - 0;
            is_mobile = $(window).width() <= 667;

            if (animate) {
                $hasScroll.stop().animate({ 'scrollTop': top }, 'medium', function () {
                    $navigation.removeClass('is-disabled');
                });
            } else {
                $hasScroll.scrollTop(top);
            }
        }
    };

    $('body').on('click', '.j-navigation', function (e) {
        $navigation.addClass('is-disabled');
        scrollToAnchor(this.hash, true);
    });

    setTimeout(function () {
        if (window.location.hash.length > 1) {
            $navigation.addClass('is-disabled');
            scrollToAnchor(window.location.hash, false);
        }
    }, 50);

    $(window).scroll(function () {
        changeItem($(window).scrollTop());
    });
})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fbmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6WyIkIiwidGhhdCIsInRvcCIsImNoYW5nZUl0ZW0iLCJzY3JvbGxUb0FuY2hvciIsIiR0YXJnZXQiLCIkZWxlbWVudCIsIiRjdXJyZW50IiwiJG5hdmlnYXRpb25NYXAiLCIkbmF2aWdhdGlvbiIsIiRoYXNTY3JvbGwiLCJpc19tb2JpbGUiLCJ3aW5kb3ciLCJ3aWR0aCIsIm1hcCIsIm9mZnNldCIsImVsZW1lbnQiLCJzY3JvbGxUb3AiLCJhdHRyIiwiZmluZCIsInNwbGl0IiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaGFzaCIsImFuaW1hdGUiLCJyZXBsYWNlIiwibGVuZ3RoIiwic3RvcCIsIm9uIiwiZSIsInNldFRpbWVvdXQiLCJsb2NhdGlvbiIsInNjcm9sbCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFDLFVBQVNBLENBQVQsRUFBWTtBQUNUOztBQUVBLFFBQUlDLElBQUo7QUFBQSxRQUFVQyxHQUFWO0FBQUEsUUFBZUMsVUFBZjtBQUFBLFFBQTJCQyxjQUEzQjtBQUFBLFFBQTJDQyxPQUEzQztBQUFBLFFBQW9EQyxRQUFwRDtBQUFBLFFBQThEQyxRQUE5RDtBQUFBLFFBQXdFQyxjQUF4RTtBQUFBLFFBQXdGQyxjQUFjVCxFQUFFLGFBQUYsQ0FBdEc7QUFBQSxRQUF3SFUsYUFBYVYsRUFBRSxZQUFGLENBQXJJO0FBQ0EsUUFBSVcsWUFBWVgsRUFBRVksTUFBRixFQUFVQyxLQUFWLE1BQXFCLEdBQXJDOztBQUVBTCxxQkFBaUJSLEVBQUUsWUFBRixFQUFnQmMsR0FBaEIsQ0FBb0IsWUFBVTtBQUMzQyxlQUFPO0FBQ0hDLG9CQUFRZixFQUFFLElBQUYsRUFBUWUsTUFBUixHQUFpQmIsR0FBakIsR0FBdUIsQ0FENUI7QUFFSGMscUJBQVNoQixFQUFFLElBQUY7QUFGTixTQUFQO0FBSUgsS0FMZ0IsQ0FBakI7O0FBT0FHLGlCQUFhLG9CQUFTYyxTQUFULEVBQW9CO0FBQzdCWCxtQkFBVyxJQUFYOztBQUVBRSx1QkFBZU0sR0FBZixDQUFtQixZQUFVO0FBQ3pCYixtQkFBT0QsRUFBRSxJQUFGLEVBQVEsQ0FBUixDQUFQO0FBQ0EsZ0JBQUlDLEtBQUtjLE1BQUwsR0FBY0UsU0FBbEIsRUFBNkI7QUFDekJYLDJCQUFXTCxLQUFLZSxPQUFoQjtBQUNIO0FBQ0osU0FMRDs7QUFPQSxZQUFJVixhQUFhLElBQWIsSUFBcUJBLFNBQVNZLElBQVQsQ0FBYyxJQUFkLENBQXpCLEVBQThDOztBQUUxQ1gsdUJBQVdFLFlBQVlVLElBQVosQ0FBaUIsMEJBQTBCYixTQUFTWSxJQUFULENBQWMsSUFBZCxFQUFvQkUsS0FBcEIsQ0FBMEIsR0FBMUIsRUFBK0IsQ0FBL0IsQ0FBMUIsR0FBOEQsWUFBL0UsQ0FBWDs7QUFFQSxnQkFBSSxDQUFDYixTQUFTYyxRQUFULENBQWtCLFlBQWxCLENBQUwsRUFBc0M7QUFDbENaLDRCQUFZVSxJQUFaLENBQWlCLDBCQUFqQixFQUE2Q0csV0FBN0MsQ0FBeUQsWUFBekQ7QUFDQWYseUJBQVNnQixRQUFULENBQWtCLFlBQWxCO0FBQ0g7QUFDSjtBQUNKLEtBbkJEOztBQXFCQW5CLHFCQUFpQix3QkFBU29CLElBQVQsRUFBZUMsT0FBZixFQUF3QjtBQUNyQ0QsZUFBT0EsS0FBS0UsT0FBTCxDQUFhLFVBQWIsRUFBeUIsRUFBekIsRUFBNkJOLEtBQTdCLENBQW1DLEdBQW5DLEVBQXdDLENBQXhDLENBQVA7O0FBRUFmLGtCQUFVTCxFQUFFd0IsT0FBTyxTQUFULENBQVY7O0FBRUEsWUFBSW5CLFFBQVFzQixNQUFaLEVBQ0E7QUFDSXpCLGtCQUFNRyxRQUFRVSxNQUFSLEdBQWlCYixHQUFqQixHQUF1QixDQUE3QjtBQUNBUyx3QkFBWVgsRUFBRVksTUFBRixFQUFVQyxLQUFWLE1BQXFCLEdBQWpDOztBQUVBLGdCQUFJWSxPQUFKLEVBQWE7QUFDVGYsMkJBQVdrQixJQUFYLEdBQWtCSCxPQUFsQixDQUEwQixFQUFFLGFBQWF2QixHQUFmLEVBQTFCLEVBQWdELFFBQWhELEVBQTBELFlBQVU7QUFDaEVPLGdDQUFZYSxXQUFaLENBQXdCLGFBQXhCO0FBQ0gsaUJBRkQ7QUFHSCxhQUpELE1BS0s7QUFDRFosMkJBQVdPLFNBQVgsQ0FBcUJmLEdBQXJCO0FBQ0g7QUFDSjtBQUNKLEtBbkJEOztBQXFCQUYsTUFBRSxNQUFGLEVBQVU2QixFQUFWLENBQWEsT0FBYixFQUFzQixlQUF0QixFQUF1QyxVQUFTQyxDQUFULEVBQVk7QUFDL0NyQixvQkFBWWMsUUFBWixDQUFxQixhQUFyQjtBQUNBbkIsdUJBQWUsS0FBS29CLElBQXBCLEVBQTBCLElBQTFCO0FBQ0gsS0FIRDs7QUFLQU8sZUFBVyxZQUFVO0FBQ2pCLFlBQUluQixPQUFPb0IsUUFBUCxDQUFnQlIsSUFBaEIsQ0FBcUJHLE1BQXJCLEdBQThCLENBQWxDLEVBQXFDO0FBQ2pDbEIsd0JBQVljLFFBQVosQ0FBcUIsYUFBckI7QUFDQW5CLDJCQUFlUSxPQUFPb0IsUUFBUCxDQUFnQlIsSUFBL0IsRUFBcUMsS0FBckM7QUFDSDtBQUNKLEtBTEQsRUFLRyxFQUxIOztBQU9BeEIsTUFBRVksTUFBRixFQUFVcUIsTUFBVixDQUFpQixZQUFVO0FBQ3ZCOUIsbUJBQVdILEVBQUVZLE1BQUYsRUFBVUssU0FBVixFQUFYO0FBQ0gsS0FGRDtBQUdILENBdEVELEVBc0VHaUIsTUF0RUgiLCJmaWxlIjoiX19uYXZpZ2F0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciB0aGF0LCB0b3AsIGNoYW5nZUl0ZW0sIHNjcm9sbFRvQW5jaG9yLCAkdGFyZ2V0LCAkZWxlbWVudCwgJGN1cnJlbnQsICRuYXZpZ2F0aW9uTWFwLCAkbmF2aWdhdGlvbiA9ICQoJyNuYXZpZ2F0aW9uJyksICRoYXNTY3JvbGwgPSAkKCdodG1sLCBib2R5Jyk7XG4gICAgdmFyIGlzX21vYmlsZSA9ICQod2luZG93KS53aWR0aCgpIDw9IDY2NztcblxuICAgICRuYXZpZ2F0aW9uTWFwID0gJCgnLmotc2VjdGlvbicpLm1hcChmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2Zmc2V0OiAkKHRoaXMpLm9mZnNldCgpLnRvcCAtIDAsXG4gICAgICAgICAgICBlbGVtZW50OiAkKHRoaXMpXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNoYW5nZUl0ZW0gPSBmdW5jdGlvbihzY3JvbGxUb3ApIHtcbiAgICAgICAgJGVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgICRuYXZpZ2F0aW9uTWFwLm1hcChmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhhdCA9ICQodGhpcylbMF07XG4gICAgICAgICAgICBpZiAodGhhdC5vZmZzZXQgPCBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9IHRoYXQuZWxlbWVudDsgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCRlbGVtZW50ICE9PSBudWxsICYmICRlbGVtZW50LmF0dHIoJ2lkJykpIHtcbiAgICAgICAgICAgXG4gICAgICAgICAgICAkY3VycmVudCA9ICRuYXZpZ2F0aW9uLmZpbmQoJy5qLW5hdmlnYXRpb25baHJlZj1cIiMnICsgJGVsZW1lbnQuYXR0cignaWQnKS5zcGxpdCgnLScpWzBdICsgJy1zZWN0aW9uXCJdJyk7XG5cbiAgICAgICAgICAgIGlmICghJGN1cnJlbnQuaGFzQ2xhc3MoJ2lzLWN1cnJlbnQnKSkge1xuICAgICAgICAgICAgICAgICRuYXZpZ2F0aW9uLmZpbmQoJy5qLW5hdmlnYXRpb24uaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgJGN1cnJlbnQuYWRkQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjcm9sbFRvQW5jaG9yID0gZnVuY3Rpb24oaGFzaCwgYW5pbWF0ZSkge1xuICAgICAgICBoYXNoID0gaGFzaC5yZXBsYWNlKCctc2VjdGlvbicsICcnKS5zcGxpdCgnPycpWzBdO1xuXG4gICAgICAgICR0YXJnZXQgPSAkKGhhc2ggKyAnLWFuY2hvcicpO1xuXG4gICAgICAgIGlmICgkdGFyZ2V0Lmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wID0gJHRhcmdldC5vZmZzZXQoKS50b3AgLSAwO1xuICAgICAgICAgICAgaXNfbW9iaWxlID0gJCh3aW5kb3cpLndpZHRoKCkgPD0gNjY3O1xuXG4gICAgICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgICRoYXNTY3JvbGwuc3RvcCgpLmFuaW1hdGUoeyAnc2Nyb2xsVG9wJzogdG9wIH0sICdtZWRpdW0nLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkbmF2aWdhdGlvbi5yZW1vdmVDbGFzcygnaXMtZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRoYXNTY3JvbGwuc2Nyb2xsVG9wKHRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qLW5hdmlnYXRpb24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICRuYXZpZ2F0aW9uLmFkZENsYXNzKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgICBzY3JvbGxUb0FuY2hvcih0aGlzLmhhc2gsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgJG5hdmlnYXRpb24uYWRkQ2xhc3MoJ2lzLWRpc2FibGVkJyk7XG4gICAgICAgICAgICBzY3JvbGxUb0FuY2hvcih3aW5kb3cubG9jYXRpb24uaGFzaCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgNTApO1xuXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xuICAgICAgICBjaGFuZ2VJdGVtKCQod2luZG93KS5zY3JvbGxUb3AoKSlcbiAgICB9KTtcbn0pKGpRdWVyeSk7Il19

'use strict';

function yandexMap() {
    ymaps.ready(function () {
        var YMap,
            myPlacemark,
            is_mobile = $(window).width() <= 667;

        YMap = new ymaps.Map('location-map', {
            center: [44.970930, 38.934538],
            zoom: 18,
            controls: ['zoomControl', 'fullscreenControl']
        });

        YMap.behaviors.disable('multiTouch');
        YMap.behaviors.disable('scrollZoom');
        YMap.controls.get('zoomControl').options.set('size', 'small');
        YMap.controls.get('zoomControl').options.set('position', { right: 10, top: 50 });

        if (is_mobile) {
            YMap.behaviors.disable('drag');
        }

        myPlacemark = new ymaps.Placemark(YMap.getCenter(), {}, {
            iconLayout: 'default#image',
            iconImageHref: '/images/ico/location-pin.svg',
            iconImageSize: [29, 40],
            iconImageOffset: [-29, -40]
        });

        YMap.geoObjects.add(myPlacemark);
    });
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9feWFuZGV4Lm1hcC5qcyJdLCJuYW1lcyI6WyJ5YW5kZXhNYXAiLCJ5bWFwcyIsInJlYWR5IiwiWU1hcCIsIm15UGxhY2VtYXJrIiwiaXNfbW9iaWxlIiwiJCIsIndpbmRvdyIsIndpZHRoIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImNvbnRyb2xzIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsImdldCIsIm9wdGlvbnMiLCJzZXQiLCJyaWdodCIsInRvcCIsIlBsYWNlbWFyayIsImdldENlbnRlciIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkltYWdlU2l6ZSIsImljb25JbWFnZU9mZnNldCIsImdlb09iamVjdHMiLCJhZGQiXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBU0EsU0FBVCxHQUFxQjtBQUNqQkMsVUFBTUMsS0FBTixDQUFZLFlBQVk7QUFDcEIsWUFBSUMsSUFBSjtBQUFBLFlBQVVDLFdBQVY7QUFBQSxZQUF1QkMsWUFBWUMsRUFBRUMsTUFBRixFQUFVQyxLQUFWLE1BQXFCLEdBQXhEOztBQUVBTCxlQUFPLElBQUlGLE1BQU1RLEdBQVYsQ0FBYyxjQUFkLEVBQThCO0FBQ2pDQyxvQkFBUSxDQUFDLFNBQUQsRUFBWSxTQUFaLENBRHlCO0FBRWpDQyxrQkFBTSxFQUYyQjtBQUdqQ0Msc0JBQVUsQ0FBQyxhQUFELEVBQWdCLG1CQUFoQjtBQUh1QixTQUE5QixDQUFQOztBQU1BVCxhQUFLVSxTQUFMLENBQWVDLE9BQWYsQ0FBdUIsWUFBdkI7QUFDQVgsYUFBS1UsU0FBTCxDQUFlQyxPQUFmLENBQXVCLFlBQXZCO0FBQ0FYLGFBQUtTLFFBQUwsQ0FBY0csR0FBZCxDQUFrQixhQUFsQixFQUFpQ0MsT0FBakMsQ0FBeUNDLEdBQXpDLENBQTZDLE1BQTdDLEVBQXFELE9BQXJEO0FBQ0FkLGFBQUtTLFFBQUwsQ0FBY0csR0FBZCxDQUFrQixhQUFsQixFQUFpQ0MsT0FBakMsQ0FBeUNDLEdBQXpDLENBQTZDLFVBQTdDLEVBQXlELEVBQUVDLE9BQU8sRUFBVCxFQUFhQyxLQUFLLEVBQWxCLEVBQXpEOztBQUVBLFlBQUlkLFNBQUosRUFBZTtBQUNYRixpQkFBS1UsU0FBTCxDQUFlQyxPQUFmLENBQXVCLE1BQXZCO0FBQ0g7O0FBRURWLHNCQUFjLElBQUlILE1BQU1tQixTQUFWLENBQW9CakIsS0FBS2tCLFNBQUwsRUFBcEIsRUFBc0MsRUFBdEMsRUFBMEM7QUFDcERDLHdCQUFZLGVBRHdDO0FBRXBEQywyQkFBZSw4QkFGcUM7QUFHcERDLDJCQUFlLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FIcUM7QUFJcERDLDZCQUFpQixDQUFDLENBQUMsRUFBRixFQUFNLENBQUMsRUFBUDtBQUptQyxTQUExQyxDQUFkOztBQU9BdEIsYUFBS3VCLFVBQUwsQ0FBZ0JDLEdBQWhCLENBQW9CdkIsV0FBcEI7QUFDSCxLQTFCRDtBQTJCSCIsImZpbGUiOiJfX3lhbmRleC5tYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB5YW5kZXhNYXAoKSB7XG4gICAgeW1hcHMucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgWU1hcCwgbXlQbGFjZW1hcmssIGlzX21vYmlsZSA9ICQod2luZG93KS53aWR0aCgpIDw9IDY2NztcbiAgICAgICAgXG4gICAgICAgIFlNYXAgPSBuZXcgeW1hcHMuTWFwKCdsb2NhdGlvbi1tYXAnLCB7XG4gICAgICAgICAgICBjZW50ZXI6IFs0NC45NzA5MzAsIDM4LjkzNDUzOF0sXG4gICAgICAgICAgICB6b29tOiAxOCxcbiAgICAgICAgICAgIGNvbnRyb2xzOiBbJ3pvb21Db250cm9sJywgJ2Z1bGxzY3JlZW5Db250cm9sJ11cbiAgICAgICAgfSk7XG5cbiAgICAgICAgWU1hcC5iZWhhdmlvcnMuZGlzYWJsZSgnbXVsdGlUb3VjaCcpO1xuICAgICAgICBZTWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdzY3JvbGxab29tJyk7XG4gICAgICAgIFlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuc2V0KCdzaXplJywgJ3NtYWxsJyk7XG4gICAgICAgIFlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuc2V0KCdwb3NpdGlvbicsIHsgcmlnaHQ6IDEwLCB0b3A6IDUwIH0pO1xuXG4gICAgICAgIGlmIChpc19tb2JpbGUpIHtcbiAgICAgICAgICAgIFlNYXAuYmVoYXZpb3JzLmRpc2FibGUoJ2RyYWcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhZTWFwLmdldENlbnRlcigpLCB7fSwge1xuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJy9pbWFnZXMvaWNvL2xvY2F0aW9uLXBpbi5zdmcnLFxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzI5LCA0MF0sXG4gICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMjksIC00MF1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgWU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7XG4gICAgfSk7XG59Il19

"use strict";

$(document).ready(function () {
    app.init();
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJhcHAiLCJpbml0Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxFQUFFQyxRQUFGLEVBQVlDLEtBQVosQ0FBa0IsWUFBVztBQUN6QkMsUUFBSUMsSUFBSjtBQUNILENBRkQiLCJmaWxlIjoiaW5pdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGFwcC5pbml0KCk7XG59KTtcbiJdfQ==

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fX2FwcC5pbml0LmpzIiwiX19hcHAuYWpheC5qcyIsIl9fYXBwLmNvdW50ZG93bi5qcyIsIl9fYXBwLmRvY3VtZW50cy5qcyIsIl9fYXBwLmdhbGxlcnkuanMiLCJfX2FwcC5sYXl6ci5qcyIsIl9fYXBwLm1hc2suanMiLCJfX2FwcC5wb3B1cC5qcyIsIl9fYXBwLnNhbmR3aWNoLmpzIiwiX19hcHAudGFicy5qcyIsIl9fYXBwLnRpbWVsaW5lLmpzIiwiX19uYXZpZ2F0aW9uLmpzIiwiX195YW5kZXgubWFwLmpzIiwiaW5pdC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJfZXh0ZW5kIiwic291cmNlIiwiY29uZmlnIiwieCIsImJpbmQiLCJfIiwiaW5pdCIsImRvY3VtZW50IiwiYm9keSIsIiRib2R5IiwiJCIsIl90aGlzIiwiYWpheEZvcm0iLCJmb3JtX2NsYXNzIiwiZm9ybV9yZXNldCIsImxpbmtfY2xhc3MiLCJlcnJvcl9jbGFzcyIsImVycm9yX21lc3NhZ2UiLCJlcnJvcl9tZXNzYWdlX2NsYXNzIiwiZXJyb3JfbWVzc2FnZV9hZGRjbGFzcyIsImZvcm1fbGFiZWwiLCJjaGVja2JveF9sYWJlbCIsImNhbGxiYWNrX3N0YWNrIiwiZXh0ZW5kIiwiZGVmYXVsdF9oYW5kbGVyIiwiZm9ybSIsInJlc3BvbnNlIiwic3RhdHVzIiwiaGFzT3duUHJvcGVydHkiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJyZWRpcmVjdF91cmwiLCJlcnJvcnMiLCJ2YWxpZGF0aW9uIiwiZmluZCIsImxlbmd0aCIsInBvcHVwIiwiY2xvc2UiLCJvcGVuIiwib3Blbl9wb3B1cCIsIm1lc3NhZ2UiLCJ0aXRsZSIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwiZmllbGROYW1lIiwiZmllbGQiLCJzZXRUaW1lb3V0IiwiaHRtbCIsImFkZENsYXNzIiwiY2xvc2VzdCIsImFwcGVuZCIsInVwbG9hZCIsIm9uIiwiZSIsIkFJTSIsInN1Ym1pdCIsIm9uU3RhcnQiLCJvbkNvbXBsZXRlIiwicmVzdWx0IiwidmFsIiwic2VuZCIsImFjdGlvbiIsIm1ldGhvZCIsImRhdGEiLCJjYiIsImVyciIsImFqYXhTZXR1cCIsImhlYWRlcnMiLCJhdHRyIiwiYWpheCIsInVybCIsInR5cGUiLCJjb250ZW50VHlwZSIsInByb2Nlc3NEYXRhIiwidG9Mb3dlckNhc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJkYXRhVHlwZSIsImluaXRMaW5rIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImxpbmsiLCJpbml0Rm9ybSIsIkZvcm1EYXRhIiwic2VyaWFsaXplIiwiYnV0dG9uIiwidGV4dCIsImhhc0NsYXNzIiwiZ2V0IiwicmVzZXQiLCJDb3VudGRvd25UaW1lciIsImVsbSIsInRsIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwicHJvdG90eXBlIiwiZWxlbSIsImdldEVsZW1lbnRCeUlkIiwiY291bnREb3duIiwidG9kYXkiLCJEYXRlIiwiZGF5IiwiTWF0aCIsImZsb29yIiwiaG91ciIsIm1pbiIsInNlYyIsIm1lIiwidGltZXIiLCJhZGRaZXJvIiwiZGVjbE9mTnVtIiwiaW5uZXJIVE1MIiwiam9pbiIsIm51bSIsInNsaWNlIiwiY291bnRkb3duIiwiZG9jdW1lbnRzIiwiJGJ1dHRvbiIsIm1vdGlvbiIsInN0b3AiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwidG9nZ2xlQ2xhc3MiLCJnYWxsZXJ5IiwiZmFuY3lib3giLCJsYXl6ciIsImxhenlMb2FkWFQiLCJlZGdlWSIsInNyY0F0dHIiLCJtYXNrIiwic2VsZWN0b3IiLCJDbGVhdmUiLCJwaG9uZSIsInBob25lUmVnaW9uQ29kZSIsIl90aGlzXyIsImhhc2hDaGFuZ2UiLCJjc3NQb3NpdGlvbiIsIndyYXBwZXIiLCJzYW5kd2ljaCIsImtleUhvb2tzIiwib3ZlcmxheSIsImlzT3BlbiIsImhpZGUiLCJjc3MiLCJ0b2dnbGUiLCJ2aXNpYmlsaXR5Iiwic2FuZHdpY2hUcmlnZ2VyIiwia2V5Q29kZSIsIm92ZXJsYXlUcmlnZ2VyIiwidGFicyIsIiR0YWJzIiwiJGN1cnJlbnQiLCJ0YXJnZXQiLCJjYXJvdXNlbCIsIm1haW4iLCJ0aW1lbGluZSIsImZpbHRlciIsInllYXJzIiwibW9udGhzIiwiX2luaXRDYXJvdXNlbCIsIndpZHRoIiwic2xpZGVzIiwic2xpY2siLCJsYXp5TG9hZCIsImRvdHMiLCJpbmZpbml0ZSIsImRyYWdnYWJsZSIsInNwZWVkIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiZmFkZSIsIl9jdXJyZW50WWVhciIsInBhcnNlSW50IiwiX2N1cnJlbnRNb250aCIsIl9oYW5kbGUiLCJjdXJyZW50IiwiZWFjaCIsImtleSIsIml0ZW0iLCJzdHJpbmdzIiwic3BsaXQiLCJwdXNoIiwieWVhciIsIl9yZWluaXRDYXJvdXNlbCIsIl9zZWxmXyIsIm1vbnRoIiwiX2NoYW5nZUZpcnN0TW9udGgiLCJ0cmlnZ2VyIiwiX21hdGNoIiwiayIsImluZGV4T2YiLCJfZXZlbnRzIiwidGhhdCIsImNoYW5nZUl0ZW0iLCJzY3JvbGxUb0FuY2hvciIsIiR0YXJnZXQiLCIkZWxlbWVudCIsIiRuYXZpZ2F0aW9uTWFwIiwiJG5hdmlnYXRpb24iLCIkaGFzU2Nyb2xsIiwiaXNfbW9iaWxlIiwibWFwIiwiZWxlbWVudCIsInNjcm9sbFRvcCIsImhhc2giLCJyZXBsYWNlIiwic2Nyb2xsIiwialF1ZXJ5IiwieWFuZGV4TWFwIiwieW1hcHMiLCJyZWFkeSIsIllNYXAiLCJteVBsYWNlbWFyayIsIk1hcCIsImNlbnRlciIsInpvb20iLCJjb250cm9scyIsImJlaGF2aW9ycyIsImRpc2FibGUiLCJvcHRpb25zIiwic2V0IiwicmlnaHQiLCJQbGFjZW1hcmsiLCJnZXRDZW50ZXIiLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJpY29uSW1hZ2VPZmZzZXQiLCJnZW9PYmplY3Rz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cC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYXBwID0gYXBwIHx8IHt9O1xuXG4oKGJvZHkgPT4ge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFwcCA9IHtcblxuICAgICAgICBfZXh0ZW5kIChzb3VyY2UsIGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeCBpbiBjb25maWcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VbeF0gPSBjb25maWdbeF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmQgKCkge1xuICAgICAgICAgICAgZm9yKGNvbnN0IF8gaW4gdGhpcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICh0aGlzW19dKSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgKHRoaXNbX10uaW5pdCkgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpc1tfXS5pbml0KSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW19dLmluaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBpbml0ICgpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpOyIsInZhciBhcHAgPSBhcHAgfHwge307XG5cbihmdW5jdGlvbihib2R5KXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciAkYm9keSA9ICQoYm9keSksXG4gICAgICAgIF90aGlzO1xuXG4gICAgYXBwLmFqYXhGb3JtID0ge1xuXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgZm9ybV9jbGFzczogJy5mb3JtLWFqYXgnLFxuICAgICAgICAgICAgZm9ybV9yZXNldDogJ2Zvcm0tcmVzZXQnLFxuICAgICAgICAgICAgbGlua19jbGFzczogJy5qcy1yZXF1ZXN0LWxpbmsnLFxuICAgICAgICAgICAgZXJyb3JfY2xhc3M6ICdlcnJvcicsXG4gICAgICAgICAgICBlcnJvcl9tZXNzYWdlOiAnZm9ybV9fZXJyb3ItbWVzc2FnZScsXG4gICAgICAgICAgICBlcnJvcl9tZXNzYWdlX2NsYXNzOiAnai1lcnJvci1tZXNzYWdlJyxcbiAgICAgICAgICAgIGVycm9yX21lc3NhZ2VfYWRkY2xhc3M6ICdzaG93JyxcbiAgICAgICAgICAgIGZvcm1fbGFiZWw6ICcuZm9ybV9fd3JhcHBlcicsXG4gICAgICAgICAgICBjaGVja2JveF9sYWJlbDogJ2NoZWNrYm94X19sYWJlbCdcbiAgICAgICAgfSxcblxuICAgICAgICBjYWxsYmFja19zdGFjazoge30sXG5cbiAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbihjb25maWcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciB4O1xuICAgICAgICAgICAgICAgIGZvciAoeCBpbiBjb25maWcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLmNvbmZpZ1t4XSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdbeF0gPSBjb25maWdbeF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGRlZmF1bHRfaGFuZGxlcjogZnVuY3Rpb24oZm9ybSwgcmVzcG9uc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoJ3JlZGlyZWN0X3VybCcpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5yZWRpcmVjdF91cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJlc3BvbnNlLmVycm9ycyAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHJlc3BvbnNlLmVycm9yX21lc3NhZ2UgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvcnMsIGVycm9yX21lc3NhZ2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmVycm9ycyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSByZXNwb25zZS5lcnJvcnM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvcl9tZXNzYWdlICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2UgPSByZXNwb25zZS5lcnJvcl9tZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aGlzLnZhbGlkYXRpb24oZm9ybSwgZXJyb3JzLCByZXNwb25zZS5lcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KCdvcGVuX3BvcHVwJykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJ2JvZHknKS5maW5kKCcucG9wdXAuaXMtb3BlbicpLmxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICQucG9wdXAuY2xvc2UoJCgnYm9keScpLmZpbmQoJy5wb3B1cC5pcy1vcGVuJyksIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLnBvcHVwLm9wZW4ocmVzcG9uc2Uub3Blbl9wb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAkLnBvcHVwLm9wZW4ocmVzcG9uc2Uub3Blbl9wb3B1cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoJ21lc3NhZ2UnKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkLnBvcHVwLm1lc3NhZ2UocmVzcG9uc2UudGl0bGUsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgdmFsaWRhdGlvbjogZnVuY3Rpb24oZm9ybSwgZXJyb3JzLCBlcnJvcl9tZXNzYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIGZvcm0uZmluZCgnLicgKyBfdGhpcy5jb25maWcuZXJyb3JfY2xhc3MpLnJlbW92ZUNsYXNzKF90aGlzLmNvbmZpZy5lcnJvcl9jbGFzcyk7XG4gICAgICAgICAgICBmb3JtLmZpbmQoJy4nICsgX3RoaXMuY29uZmlnLmVycm9yX21lc3NhZ2UpLnJlbW92ZSgpO1xuICAgICAgICAgICAgZm9ybS5maW5kKCcuJyArIF90aGlzLmNvbmZpZy5lcnJvcl9tZXNzYWdlX2NsYXNzKS5yZW1vdmVDbGFzcyhfdGhpcy5jb25maWcuZXJyb3JfbWVzc2FnZV9hZGRjbGFzcyk7XG5cbiAgICAgICAgICAgIHZhciBmaWVsZE5hbWUsIGZpZWxkO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3JfbWVzc2FnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZXJyb3JfbWVzc2FnZSAhPT0gJycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJy4nICsgX3RoaXMuY29uZmlnLmVycm9yX21lc3NhZ2VfY2xhc3MpLmh0bWwoZXJyb3JfbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnLicgKyBfdGhpcy5jb25maWcuZXJyb3JfbWVzc2FnZV9jbGFzcykuYWRkQ2xhc3MoX3RoaXMuY29uZmlnLmVycm9yX21lc3NhZ2VfYWRkY2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyb3JzICE9PSAndW5kZWZpbmVkJyAmJiBlcnJvcnMgIT09ICcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGZpZWxkTmFtZSBpbiBlcnJvcnMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJykubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0uZmluZCgnc2VsZWN0W25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJykubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IGZvcm0uZmluZCgnc2VsZWN0W25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLmZpbmQoJ3RleHRhcmVhW25hbWU9XCInK2ZpZWxkTmFtZSsnXCJdJykubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IGZvcm0uZmluZCgndGV4dGFyZWFbbmFtZT1cIicrZmllbGROYW1lKydcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmNsb3Nlc3QoJy4nICsgX3RoaXMuY29uZmlnLmNoZWNrYm94X2xhYmVsKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkID0gZmllbGQuY2xvc2VzdCgnLicgKyBfdGhpcy5jb25maWcuY2hlY2tib3hfbGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5hZGRDbGFzcyhfdGhpcy5jb25maWcuZXJyb3JfY2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmNsb3Nlc3QoX3RoaXMuY29uZmlnLmZvcm1fbGFiZWwpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIicgKyBfdGhpcy5jb25maWcuZXJyb3JfbWVzc2FnZSArICdcIj4nICsgZXJyb3JzW2ZpZWxkTmFtZV0gKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBsb2FkOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgJGJvZHkub24oJ3N1Ym1pdCcsICcuZm9ybS1maWxlLXVwbG9hZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQUlNLnN1Ym1pdCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIHJlc3VsdC5zdGF0dXMgPT09IHRydWUgJiYgcmVzdWx0Lmhhc093blByb3BlcnR5KCdwaG90b191cmwnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcudXBsb2FkX2J1dHRvbl9vbmNoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuY2xvc2VzdCgnLnVwbG9hZF9idXR0b24nKS5maW5kKCcudXBsb2FkX2J1dHRvbl9maWVsZCcpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy51cGxvYWRfYnV0dG9uJykuZmluZCgnLnVwbG9hZF9idXR0b25fZmllbGQnKS5odG1sKCQodGhpcykudmFsKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNlbmQ6IGZ1bmN0aW9uKGFjdGlvbiwgbWV0aG9kLCBkYXRhLCBjYiwgZXJyKVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYiA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgZXJyID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgICAgICQuYWpheFNldHVwKHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1gtQ1NSRi1UT0tFTic6ICQoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKS5hdHRyKCdjb250ZW50JylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogbWV0aG9kLnRvTG93ZXJDYXNlKCkgPT0gJ2dldCcsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGNiLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ0pTT04nXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2goZSl7fVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdExpbms6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAkYm9keS5vbignY2xpY2snLCBfdGhpcy5jb25maWcubGlua19jbGFzcywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGluay5kYXRhKCdpcy1idXN5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxpbmsuZGF0YSgnaXMtYnVzeScsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9ICgkKHRoaXMpLmF0dHIoJ2hyZWYnKSkgfHwgJCh0aGlzKS5kYXRhKCdhY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kID0gKCQodGhpcykuZGF0YSgnbWV0aG9kJykpIHx8ICdnZXQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kKFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5rLmRhdGEoJ2NhbGxiYWNrJykgJiYgX3RoaXMuY2FsbGJhY2tfc3RhY2suaGFzT3duUHJvcGVydHkobGluay5kYXRhKCdjYWxsYmFjaycpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsYmFja19zdGFja1tsaW5rLmRhdGEoJ2NhbGxiYWNrJyldKGxpbmssIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0X2hhbmRsZXIobGluaywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuZGF0YSgnaXMtYnVzeScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlZmF1bHRfaGFuZGxlcihsaW5rLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmRhdGEoJ2lzLWJ1c3knLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdEZvcm06IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAkYm9keS5vbignc3VibWl0JywgX3RoaXMuY29uZmlnLmZvcm1fY2xhc3MsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gICAgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gID0gZm9ybS5hdHRyKCdhY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kICA9IChmb3JtLmF0dHIoJ21ldGhvZCcpIHx8ICdwb3N0JyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgICAgPSAhIXdpbmRvdy5Gb3JtRGF0YSA/IG5ldyBGb3JtRGF0YShmb3JtWzBdKSA6IGZvcm0uc2VyaWFsaXplKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5kYXRhKCdpcy1idXN5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvcm0uZGF0YSgnaXMtYnVzeScsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBidXR0b24gIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5kYXRhKCdsb2FkaW5nJykpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kYXRhKCdvcmlnaW5hbCcsIGJ1dHRvbi50ZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHQoYnV0dG9uLmRhdGEoJ2xvYWRpbmcnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBidXR0b24uYWRkQ2xhc3MoJ3ByZWxvYWQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5kYXRhKCdwcmVjYWxsYmFjaycpICYmIF90aGlzLmNhbGxiYWNrX3N0YWNrLmhhc093blByb3BlcnR5KGZvcm0uZGF0YSgncHJlY2FsbGJhY2snKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIV90aGlzLmNhbGxiYWNrX3N0YWNrW2Zvcm0uZGF0YSgncHJlY2FsbGJhY2snKV0oZm9ybSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aGlzLnNlbmQoXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0uZGF0YSgnY2FsbGJhY2snKSAmJiBfdGhpcy5jYWxsYmFja19zdGFjay5oYXNPd25Qcm9wZXJ0eShmb3JtLmRhdGEoJ2NhbGxiYWNrJykpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrX3N0YWNrW2Zvcm0uZGF0YSgnY2FsbGJhY2snKV0oZm9ybSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlZmF1bHRfaGFuZGxlcihmb3JtLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0uaGFzQ2xhc3MoX3RoaXMuY29uZmlnLmZvcm1fcmVzZXQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5maW5kKCcuJyArIF90aGlzLmNvbmZpZy5lcnJvcl9jbGFzcykucmVtb3ZlQ2xhc3MoX3RoaXMuY29uZmlnLmVycm9yX2NsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5nZXQoMCkucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmRhdGEoJ29yaWdpbmFsJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dChidXR0b24uZGF0YSgnb3JpZ2luYWwnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUNsYXNzKCdwcmVsb2FkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uZGF0YSgnaXMtYnVzeScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlZmF1bHRfaGFuZGxlcihmb3JtLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmRhdGEoJ2lzLWJ1c3knLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oY29uZmlnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuZChjb25maWcpO1xuXG4gICAgICAgICAgICB0aGlzLmluaXRGb3JtKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRMaW5rKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXBwLmFqYXhGb3JtLmluaXQoKTtcblxufSkoZG9jdW1lbnQuYm9keSk7IiwibGV0IGFwcCA9IGFwcCB8fCB7fTtcblxuKChib2R5ID0+IHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIENvdW50ZG93blRpbWVyKGVsbSx0bCl7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIENvdW50ZG93blRpbWVyLnByb3RvdHlwZT17IFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihlbG0sdGwpIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxtKTtcblxuICAgICAgICAgICAgaWYoZWxlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XG4gICAgICAgICAgICAgICAgdGhpcy50bCA9IHRsO1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnREb3duKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY291bnREb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0b2RheT1uZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGRheT1NYXRoLmZsb29yKCh0aGlzLnRsLXRvZGF5KS8oMjQqNjAqNjAqMTAwMCkpLFxuICAgICAgICAgICAgICAgIGhvdXI9TWF0aC5mbG9vcigoKHRoaXMudGwtdG9kYXkpJSgyNCo2MCo2MCoxMDAwKSkvKDYwKjYwKjEwMDApKSxcbiAgICAgICAgICAgICAgICBtaW49TWF0aC5mbG9vcigoKHRoaXMudGwtdG9kYXkpJSgyNCo2MCo2MCoxMDAwKSkvKDYwKjEwMDApKSU2MCxcbiAgICAgICAgICAgICAgICBzZWM9TWF0aC5mbG9vcigoKHRoaXMudGwtdG9kYXkpJSgyNCo2MCo2MCoxMDAwKSkvMTAwMCklNjAlNjAsXG4gICAgICAgICAgICAgICAgbWU9dGhpcztcblxuICAgICAgICAgICAgaWYgKCggdGhpcy50bCAtIHRvZGF5ICkgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IFtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2NvbHVtblwiPjxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2RpZ2l0XCI+JywgdGhpcy5hZGRaZXJvKGRheSkgLCc8L2Rpdj48ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19jYXB0aW9uXCI+JywgZGVjbE9mTnVtKGRheSwgWyfQlNC10L3RjCcsICfQlNC90Y8nLCAn0JTQvdC10LknXSkgLCc8L2Rpdj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fY29sdW1uXCI+PGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fZGlnaXRcIj4nLCB0aGlzLmFkZFplcm8oaG91cikgLCc8L2Rpdj48ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19jYXB0aW9uXCI+JywgZGVjbE9mTnVtKGhvdXIsIFsn0KfQsNGBJywgJ9Cn0LDRgdCwJywgJ9Cn0LDRgdC+0LInXSkgLCc8L2Rpdj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fY29sdW1uXCI+PGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fZGlnaXRcIj4nLCB0aGlzLmFkZFplcm8obWluKSAsJzwvZGl2PjxkaXYgY2xhc3M9XCJ0aW1lcl9fcGFydHNfX2NhcHRpb25cIj4nLCBkZWNsT2ZOdW0obWluLCBbJ9Cc0LjQvdGD0YLQsCcsICfQnNC40L3Rg9GC0YsnLCAn0JzQuNC90YPRgiddKSAsJzwvZGl2PjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19jb2x1bW5cIj48ZGl2IGNsYXNzPVwidGltZXJfX3BhcnRzX19kaWdpdFwiPicsIHRoaXMuYWRkWmVybyhzZWMpICwnPC9kaXY+PGRpdiBjbGFzcz1cInRpbWVyX19wYXJ0c19fY2FwdGlvblwiPicsIGRlY2xPZk51bShzZWMsIFsn0KHQtdC60YPQvdC00LAnLCAn0KHQtdC60YPQvdC00YsnLCAn0KHQtdC60YPQvdC0J10pICwnPC9kaXY+PC9kaXY+JyxcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW0uaW5uZXJIVE1MID0gdGltZXIuam9pbignJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWUuY291bnREb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFplcm86ZnVuY3Rpb24obnVtKXsgXG4gICAgICAgICAgICByZXR1cm4gKCcwJytudW0pLnNsaWNlKC0yKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhcHAuY291bnRkb3duID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vINCQ0LrRhtC40Y8g0LTQu9C40YLRgdGPINC90LUg0LHQvtC70LXQtSA3IC0gOSDQtNC90LXQuVxuICAgICAgICAgICAgLy8gaWYgKGRheSA8IDcpXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgdCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCA3LCAyMywgNTksIDU5KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYoNzw9ZGF5ICYmIGRheTwxNClcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICB0ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDE0LCAyMywgNTksIDU5KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYoMTQ8PWRheSAmJiBkYXk8MjEpXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgdCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAyMSwgMjMsIDU5LCA1OSk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBlbHNlIGlmKDIxPD1kYXkgJiYgZGF5PDMxKVxuICAgICAgICAgICAgLy8geyAvLyDQtdGB0LvQuCDQsiDQvNC10YHRj9GG0LUg0LzQtdC90YzRiNC1IDMxINC00L3Rjywg0YLQviBEYXRlINC/0YDQvtGB0YLQviDQv9C10YDQtdC50LTQtdGCINC90LAg0YHQu9C10LTRg9GO0YnQuNC5INC80LXRgdGP0YZcbiAgICAgICAgICAgIC8vICAgICB0ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDMxLCAyMywgNTksIDU5KTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgLy8gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtcylcbiAgICAgICAgICAgIG5ldyBDb3VudGRvd25UaW1lcignY291bnRkb3duJywgbmV3IERhdGUoMjAxNywgNywgMSwgMCwgMCwgMCkpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpOyIsImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAuZG9jdW1lbnRzID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmotbG9hZC1kb2N1bWVudHMnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW90aW9uID0gJGJ1dHRvbi5kYXRhKCdtb3Rpb24nKTtcblxuICAgICAgICAgICAgICAgIGlmIChtb3Rpb24gPT09ICdzaG93Jykge1xuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLmRhdGEoJ21vdGlvbicsICdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNkb2N1bWVudHMnKS5maW5kKCcuaXMtbW90aW9uJykucmVtb3ZlQ2xhc3MoJ2lzLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRidXR0b24uZGF0YSgnbW90aW9uJywgJ3Nob3cnKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoeyAnc2Nyb2xsVG9wJzogJCgnI2RvY3VtZW50YXRpb24tYW5jaG9yJykub2Zmc2V0KCkudG9wIH0sICdmYXN0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2RvY3VtZW50cycpLmZpbmQoJy5pcy1tb3Rpb24nKS5hZGRDbGFzcygnaXMtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5jbG9zZXN0KCcucGFnZS1idXR0b24nKS50b2dnbGVDbGFzcygnX2Rvd24nKS50b2dnbGVDbGFzcygnX3VwJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKShkb2N1bWVudC5ib2R5KTsiLCJsZXQgYXBwID0gYXBwIHx8IHt9O1xuXG4oKGJvZHkgPT4ge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYXBwLmdhbGxlcnkgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgJCgnLnpvb20nKS5mYW5jeWJveCgpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpOyIsImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAubGF5enIgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgJCh3aW5kb3cpLmxhenlMb2FkWFQoe1xuICAgICAgICAgICAgICAgIGVkZ2VZOiAgMjAwLFxuICAgICAgICAgICAgICAgIHNyY0F0dHI6ICdkYXRhLXNyYydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpO1xuIiwibGV0IGFwcCA9IGFwcCB8fCB7fTtcblxuKChib2R5ID0+IHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFwcC5tYXNrID0ge1xuICAgICAgICBiaW5kKHNlbGVjdG9yID0gJy5tYXNrLXBob25lJykge1xuICAgICAgICAgICAgbmV3IENsZWF2ZShzZWxlY3Rvciwge1xuICAgICAgICAgICAgICAgIHBob25lOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBob25lUmVnaW9uQ29kZTogJ3J1J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IF90aGlzXyA9IHRoaXM7XG5cbiAgICAgICAgICAgIF90aGlzXy5iaW5kKCk7XG5cbiAgICAgICAgICAgICQoJ2JvZHknKS5vbigncG9wdXAuYWZ0ZXJfb3BlbicsIGZ1bmN0aW9uKGUsIHBvcHVwKSB7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXNfLmJpbmQoJChwb3B1cCkuZmluZCgnLm1hc2stcGhvbmUnKSk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxufSkpKGRvY3VtZW50LmJvZHkpOyIsImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhcHAucG9wdXAgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgJC5wb3B1cC5pbml0KCcuai1vcGVuLXBvcHVwJywge1xuICAgICAgICAgICAgICAgIGhhc2hDaGFuZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNzc1Bvc2l0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cmFwcGVyOiAnLmxheW91dC13cmFwcGVyJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSkoZG9jdW1lbnQuYm9keSk7IiwidmFyIGFwcCA9IGFwcCB8fCB7fTtcblxuOyhmdW5jdGlvbihib2R5KXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIGFwcC5zYW5kd2ljaCA9IHtcblxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGtleUhvb2tzOiAhMSxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnLmpzLXNhbmR3aWNoLW1lbnUnLFxuICAgICAgICAgICAgd3JhcHBlcjogJy5sYXlvdXQtd3JhcHBlcicsXG4gICAgICAgICAgICBvdmVybGF5OiAnLm92ZXJsYXknXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbihjb25maWcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciB4O1xuICAgICAgICAgICAgICAgIGZvciAoeCBpbiBjb25maWcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLmNvbmZpZ1t4XSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25maWdbeF0gPSBjb25maWdbeF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJCgnYm9keScpLmhhc0NsYXNzKCdwYWdlLXZpc2libGUnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygncGFnZS1vcGVuJyk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuICAgICAgICAgICAgfSwgMTApO1xuXG4gICAgICAgICAgICAkKHRoaXMuY29uZmlnLm92ZXJsYXkpLmNzcyh7XG4gICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygncGFnZS1vcGVuJyk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygncGFnZS12aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ3BhZ2Utb3BlbicpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ3BhZ2UtdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG5cbiAgICAgICAgICAgIGlmICghJCgnYm9keScpLmhhc0NsYXNzKCdwYWdlLW9wZW4nKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5ID0gJ2hpZGRlbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJChfdGhpcy5jb25maWcub3ZlcmxheSkuY3NzKHtcbiAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6IHZpc2liaWxpdHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNhbmR3aWNoVHJpZ2dlcjogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5jb25maWcua2V5SG9va3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJCgnYm9keScpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZihlLmtleUNvZGUgPT0gMjcgJiYgX3RoaXMuaXNPcGVuKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgX3RoaXMuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb3ZlcmxheVRyaWdnZXI6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgX3RoaXMuY29uZmlnLm92ZXJsYXksIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5leHRlbmQoe1xuICAgICAgICAgICAgICAgIGtleUhvb2tzOiAhMCxcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJy5qcy1zYW5kd2ljaC1tZW51JyxcbiAgICAgICAgICAgICAgICB3cmFwcGVyOiAnLmxheW91dC13cmFwcGVyJyxcbiAgICAgICAgICAgICAgICBvdmVybGF5OiAnI21lbnUtb3ZlcmxheSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNhbmR3aWNoVHJpZ2dlcigpO1xuICAgICAgICAgICAgdGhpcy5vdmVybGF5VHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkoZG9jdW1lbnQuYm9keSk7IiwidmFyIGFwcCA9IGFwcCB8fCB7fTtcblxuKGZ1bmN0aW9uKGJvZHkpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYXBwLnRhYnMgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0ICR0YWJzO1xuXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5qLXRhYnMtdHJpZ2dlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkY3VycmVudCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoISRjdXJyZW50Lmhhc0NsYXNzKCdpcy1jdXJyZW50JykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAkY3VycmVudC5kYXRhKCd0YXJnZXQnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhclxuICAgICAgICAgICAgICAgICAgICAkdGFicyA9ICQodGhpcykuY2xvc2VzdCgnLmotdGFicycpO1xuICAgICAgICAgICAgICAgICAgICAkdGFicy5maW5kKCcuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICR0YWJzLmZpbmQoJy5qLXRhYnMtY29udGVudCcpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAkY3VycmVudC5hZGRDbGFzcygnaXMtY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAkdGFicy5maW5kKCcuai10YWJzLWNvbnRlbnRbZGF0YS1zeXN0ZW09XCInK3RhcmdldCsnXCJdJykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkY3VycmVudC5oYXNDbGFzcygnai10YWJzLWNhcm91c2VsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5jYXJvdXNlbC5tYWluKCdyZWxvYWQnLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbn0pKGRvY3VtZW50LmJvZHkpOyIsImxldCBhcHAgPSBhcHAgfHwge307XG5cbigoYm9keSA9PiB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYXBwLnRpbWVsaW5lID0ge1xuXG4gICAgICAgIGRhdGE6IHt9LFxuICAgICAgICBmaWx0ZXI6IG51bGwsXG4gICAgICAgIHllYXJzOiBudWxsLFxuICAgICAgICBtb250aHM6IG51bGwsXG5cbiAgICAgICAgX2luaXRDYXJvdXNlbCAoKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBzbGlkZXMgPSAkKCcjdGltZWxpbmUtY2Fyb3VzZWwnKS5maW5kKCcuc2xpY2stc2xpZGUnKS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAod2lkdGggPiA3NjggJiYgc2xpZGVzID49IDQpIHx8XG4gICAgICAgICAgICAgICAgKHdpZHRoID4gNTY4ICYmIHNsaWRlcyA+PSAzKSB8fFxuICAgICAgICAgICAgICAgICh3aWR0aCA+IDM3NSAmJiBzbGlkZXMgPj0gMikgfHxcbiAgICAgICAgICAgICAgICAod2lkdGggPCAzNzUgJiYgc2xpZGVzID49IDEpXG4gICAgICAgICAgICApIHtcblxuICAgICAgICAgICAgICAgICQoJyN0aW1lbGluZS1jYXJvdXNlbCcpLnNsaWNrKHtcbiAgICAgICAgICAgICAgICAgICAgbGF6eUxvYWQ6ICdvbmRlbWFuZCcsXG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogMjU5LFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QXJyb3c6ICc8YnV0dG9uIGNsYXNzPVwiY2Fyb3VzZWxfX25hdiBjYXJvdXNlbF9fbmF2LS1sZWZ0IHNsaWNrLXByZXZcIj48c3ZnIGNsYXNzPVwiY2Fyb3VzZWxfX25hdl9faWNvXCIgcm9sZT1cImltYWdlXCI+PHVzZSB4bGluazpocmVmPVwiI2xlZnQtYXJyb3dcIi8+PC9zdmc+PC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEFycm93OiAnPGJ1dHRvbiBjbGFzcz1cImNhcm91c2VsX19uYXYgY2Fyb3VzZWxfX25hdi0tcmlnaHQgc2xpY2stbmV4dFwiPjxzdmcgY2xhc3M9XCJjYXJvdXNlbF9fbmF2X19pY29cIiByb2xlPVwiaW1hZ2VcIj48dXNlIHhsaW5rOmhyZWY9XCIjcmlnaHQtYXJyb3dcIi8+PC9zdmc+PC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNTY4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDM3NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2N1cnJlbnRZZWFyICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnllYXJzLmZpbmQoJy5pcy1jdXJyZW50JykuZGF0YSgndmFsdWUnKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2N1cnJlbnRNb250aCAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5tb250aHMuZmluZCgnLmlzLWN1cnJlbnQnKS5kYXRhKCd2YWx1ZScpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jdXJyZW50ID0gdGhpcy5fY3VycmVudFllYXIoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5tb250aHMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5tb250aHMuZmluZCgnLmotdGltZWxpbmUtbW9udGhzLWl0ZW0nKS5lYWNoKChrZXksIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgeWVhcnMgPSBbXSwgc3RyaW5ncyA9ICQoaXRlbSkuZGF0YSgnaWYnKSArICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHJpbmdzICE9PSAndW5kZWZpbmVkJyAmJiBzdHJpbmdzICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB5ZWFycyA9IHN0cmluZ3Muc3BsaXQoJywnKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4IGluIHllYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyc1t4XSA9IHBhcnNlSW50KHllYXJzW3hdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5tb250aHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXJzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfcmVpbml0Q2Fyb3VzZWwgKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9zZWxmXyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgeWVhciA9IHRoaXMuX2N1cnJlbnRZZWFyKCksXG4gICAgICAgICAgICAgICAgbW9udGggPSB0aGlzLl9jdXJyZW50TW9udGgoKTtcblxuICAgICAgICAgICAgaWYgKCQoJyN0aW1lbGluZS1jYXJvdXNlbCcpLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpbWVsaW5lLWNhcm91c2VsJykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gJCgnI3RpbWVsaW5lLWNhcm91c2VsJykuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgIC8vIHZhciBjb3VudCA9ICQoJyN0aW1lbGluZS1jYWNoZScpLmZpbmQoJy5jYXJvdXNlbF9faXRlbS5pcy15ZWFyLScrIHllYXIgKycuaXMtbW9udGgtJyttb250aCkubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyAkKCcjdGltZWxpbmUtY2FjaGUnKS5maW5kKCcuY2Fyb3VzZWxfX2l0ZW0uaXMteWVhci0nKyB5ZWFyICsnLmlzLW1vbnRoLScrbW9udGgpLmVhY2goZnVuY3Rpb24oaywgaXRlbSkge1xuICAgICAgICAgICAgLy8gICAgICQoJyN0aW1lbGluZS1jYXJvdXNlbCcpLmFwcGVuZCgkKHRoaXMpLmNsb25lKCkpO1xuXG4gICAgICAgICAgICAvLyAgICAgaWYgKChrKzEpID09IGNvdW50KSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBfc2VsZl8uX2luaXRDYXJvdXNlbCgpO1xuICAgICAgICAgICAgLy8gICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAgICAgJCgnLnpvb20nKS5mYW5jeWJveCgpO1xuICAgICAgICAgICAgLy8gfSwgMzAwKTtcblxuICAgICAgICAgICAgX3NlbGZfLl9pbml0Q2Fyb3VzZWwoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY2hhbmdlRmlyc3RNb250aCAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vbnRocy5maW5kKCcuai10aW1lbGluZS1tb250aHMtaXRlbS5pcy1hY3RpdmU6Zmlyc3QnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9tYXRjaCAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBfc2VsZl8gPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGUoKTtcblxuICAgICAgICAgICAgdGhpcy5tb250aHMuZmluZCgnLmotdGltZWxpbmUtbW9udGhzLWl0ZW0nKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICQuZWFjaCh0aGlzLmRhdGEubW9udGhzLCAoaywgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnllYXIuaW5kZXhPZih0aGlzLmRhdGEuY3VycmVudCkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkKGl0ZW0uaXRlbSkuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmZpbHRlci5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V2ZW50cyAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBfc2VsZl8gPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnllYXJzLmZpbmQoJy5qLXRpbWVsaW5lLXllYXJzLWl0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdpcy1jdXJyZW50JykpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpbWVsaW5lLWZpbHRlcicpLmZpbmQoJy5qLXRpbWVsaW5lLXllYXJzJykuZmluZCgnLmlzLWN1cnJlbnQnKS5yZW1vdmVDbGFzcygnaXMtY3VycmVudCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICBfc2VsZl8uX21hdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgIF9zZWxmXy5fY2hhbmdlRmlyc3RNb250aCgpO1xuICAgICAgICAgICAgICAgICAgICBfc2VsZl8uX3JlaW5pdENhcm91c2VsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubW9udGhzLmZpbmQoJy5qLXRpbWVsaW5lLW1vbnRocy1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnaXMtY3VycmVudCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aW1lbGluZS1maWx0ZXInKS5maW5kKCcuai10aW1lbGluZS1tb250aHMnKS5maW5kKCcuaXMtY3VycmVudCcpLnJlbW92ZUNsYXNzKCdpcy1jdXJyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtY3VycmVudCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmXy5fbWF0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGZfLl9yZWluaXRDYXJvdXNlbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQgKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSAkKCcjdGltZWxpbmUtZmlsdGVyJyk7XG4gICAgICAgICAgICB0aGlzLnllYXJzID0gdGhpcy5maWx0ZXIuZmluZCgnLmotdGltZWxpbmUteWVhcnMnKTtcbiAgICAgICAgICAgIHRoaXMubW9udGhzID0gdGhpcy5maWx0ZXIuZmluZCgnLmotdGltZWxpbmUtbW9udGhzJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX21hdGNoKCk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVpbml0Q2Fyb3VzZWwoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKShkb2N1bWVudC5ib2R5KTsiLCIoZnVuY3Rpb24oJCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIHRoYXQsIHRvcCwgY2hhbmdlSXRlbSwgc2Nyb2xsVG9BbmNob3IsICR0YXJnZXQsICRlbGVtZW50LCAkY3VycmVudCwgJG5hdmlnYXRpb25NYXAsICRuYXZpZ2F0aW9uID0gJCgnI25hdmlnYXRpb24nKSwgJGhhc1Njcm9sbCA9ICQoJ2h0bWwsIGJvZHknKTtcbiAgICB2YXIgaXNfbW9iaWxlID0gJCh3aW5kb3cpLndpZHRoKCkgPD0gNjY3O1xuXG4gICAgJG5hdmlnYXRpb25NYXAgPSAkKCcuai1zZWN0aW9uJykubWFwKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvZmZzZXQ6ICQodGhpcykub2Zmc2V0KCkudG9wIC0gMCxcbiAgICAgICAgICAgIGVsZW1lbnQ6ICQodGhpcylcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY2hhbmdlSXRlbSA9IGZ1bmN0aW9uKHNjcm9sbFRvcCkge1xuICAgICAgICAkZWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgJG5hdmlnYXRpb25NYXAubWFwKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGF0ID0gJCh0aGlzKVswXTtcbiAgICAgICAgICAgIGlmICh0aGF0Lm9mZnNldCA8IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgICAgICRlbGVtZW50ID0gdGhhdC5lbGVtZW50OyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoJGVsZW1lbnQgIT09IG51bGwgJiYgJGVsZW1lbnQuYXR0cignaWQnKSkge1xuICAgICAgICAgICBcbiAgICAgICAgICAgICRjdXJyZW50ID0gJG5hdmlnYXRpb24uZmluZCgnLmotbmF2aWdhdGlvbltocmVmPVwiIycgKyAkZWxlbWVudC5hdHRyKCdpZCcpLnNwbGl0KCctJylbMF0gKyAnLXNlY3Rpb25cIl0nKTtcblxuICAgICAgICAgICAgaWYgKCEkY3VycmVudC5oYXNDbGFzcygnaXMtY3VycmVudCcpKSB7XG4gICAgICAgICAgICAgICAgJG5hdmlnYXRpb24uZmluZCgnLmotbmF2aWdhdGlvbi5pcy1jdXJyZW50JykucmVtb3ZlQ2xhc3MoJ2lzLWN1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAkY3VycmVudC5hZGRDbGFzcygnaXMtY3VycmVudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2Nyb2xsVG9BbmNob3IgPSBmdW5jdGlvbihoYXNoLCBhbmltYXRlKSB7XG4gICAgICAgIGhhc2ggPSBoYXNoLnJlcGxhY2UoJy1zZWN0aW9uJywgJycpLnNwbGl0KCc/JylbMF07XG5cbiAgICAgICAgJHRhcmdldCA9ICQoaGFzaCArICctYW5jaG9yJyk7XG5cbiAgICAgICAgaWYgKCR0YXJnZXQubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3AgPSAkdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDA7XG4gICAgICAgICAgICBpc19tb2JpbGUgPSAkKHdpbmRvdykud2lkdGgoKSA8PSA2Njc7XG5cbiAgICAgICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgJGhhc1Njcm9sbC5zdG9wKCkuYW5pbWF0ZSh7ICdzY3JvbGxUb3AnOiB0b3AgfSwgJ21lZGl1bScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICRuYXZpZ2F0aW9uLnJlbW92ZUNsYXNzKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJGhhc1Njcm9sbC5zY3JvbGxUb3AodG9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLmotbmF2aWdhdGlvbicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgJG5hdmlnYXRpb24uYWRkQ2xhc3MoJ2lzLWRpc2FibGVkJyk7XG4gICAgICAgIHNjcm9sbFRvQW5jaG9yKHRoaXMuaGFzaCwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAkbmF2aWdhdGlvbi5hZGRDbGFzcygnaXMtZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHNjcm9sbFRvQW5jaG9yKHdpbmRvdy5sb2NhdGlvbi5oYXNoLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCA1MCk7XG5cbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGNoYW5nZUl0ZW0oJCh3aW5kb3cpLnNjcm9sbFRvcCgpKVxuICAgIH0pO1xufSkoalF1ZXJ5KTsiLCJmdW5jdGlvbiB5YW5kZXhNYXAoKSB7XG4gICAgeW1hcHMucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgWU1hcCwgbXlQbGFjZW1hcmssIGlzX21vYmlsZSA9ICQod2luZG93KS53aWR0aCgpIDw9IDY2NztcbiAgICAgICAgXG4gICAgICAgIFlNYXAgPSBuZXcgeW1hcHMuTWFwKCdsb2NhdGlvbi1tYXAnLCB7XG4gICAgICAgICAgICBjZW50ZXI6IFs0NC45NzA5MzAsIDM4LjkzNDUzOF0sXG4gICAgICAgICAgICB6b29tOiAxOCxcbiAgICAgICAgICAgIGNvbnRyb2xzOiBbJ3pvb21Db250cm9sJywgJ2Z1bGxzY3JlZW5Db250cm9sJ11cbiAgICAgICAgfSk7XG5cbiAgICAgICAgWU1hcC5iZWhhdmlvcnMuZGlzYWJsZSgnbXVsdGlUb3VjaCcpO1xuICAgICAgICBZTWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdzY3JvbGxab29tJyk7XG4gICAgICAgIFlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuc2V0KCdzaXplJywgJ3NtYWxsJyk7XG4gICAgICAgIFlNYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpLm9wdGlvbnMuc2V0KCdwb3NpdGlvbicsIHsgcmlnaHQ6IDEwLCB0b3A6IDUwIH0pO1xuXG4gICAgICAgIGlmIChpc19tb2JpbGUpIHtcbiAgICAgICAgICAgIFlNYXAuYmVoYXZpb3JzLmRpc2FibGUoJ2RyYWcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhZTWFwLmdldENlbnRlcigpLCB7fSwge1xuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJy9pbWFnZXMvaWNvL2xvY2F0aW9uLXBpbi5zdmcnLFxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzI5LCA0MF0sXG4gICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMjksIC00MF1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgWU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7XG4gICAgfSk7XG59IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgYXBwLmluaXQoKTtcbn0pO1xuIl19
